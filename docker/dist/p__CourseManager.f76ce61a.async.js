(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[412],{90672:function(z,y,e){"use strict";var v=e(22122),D=e(81253),i=e(67294),t=e(12536),w=["fieldProps","proFieldProps"],W=function(R,A){var T=R.fieldProps,m=R.proFieldProps,h=(0,D.Z)(R,w);return i.createElement(t.Z,(0,v.Z)({ref:A,mode:"edit",valueType:"textarea",fieldProps:T,proFieldProps:m},h))};y.Z=i.forwardRef(W)},5966:function(z,y,e){"use strict";var v=e(22122),D=e(81253),i=e(67294),t=e(12536),w=["fieldProps","proFieldProps"],W=["fieldProps","proFieldProps"],O="text",R=function(h){var Z=h.fieldProps,U=h.proFieldProps,F=(0,D.Z)(h,w);return i.createElement(t.Z,(0,v.Z)({mode:"edit",valueType:O,fieldProps:Z,filedConfig:{valueType:O},proFieldProps:U},F))},A=function(h){var Z=h.fieldProps,U=h.proFieldProps,F=(0,D.Z)(h,W);return i.createElement(t.Z,(0,v.Z)({mode:"edit",valueType:"password",fieldProps:Z,proFieldProps:U,filedConfig:{valueType:O}},F))},T=R;T.Password=A,T.displayName="ProFormComponent",y.Z=T},15196:function(z,y,e){"use strict";e.d(y,{UW:function(){return V},ZP:function(){return K}});var v=e(9715),D=e(93766),i=e(22122),t=e(67294),w=e(49111),W=e(19650),O=e(96156),R=e(84305),A=e(39559),T=e(28481),m=e(28991),h=e(8812),Z=e(66758),U=e(63891),F=e(56725),c=e(53621),a=e(94184),n=e.n(a),s=t.forwardRef(function(B,x){var j=t.useContext(Z.Z),d=j.groupProps,r=(0,m.Z)((0,m.Z)({},d),B),L=r.children,f=r.collapsible,_=r.defaultCollapsed,C=r.style,E=r.labelLayout,$=r.title,I=$===void 0?B.label:$,S=r.tooltip,N=r.align,P=N===void 0?"start":N,se=r.direction,q=r.size,ie=q===void 0?32:q,le=r.titleStyle,ee=r.titleRender,G=r.spaceProps,H=r.extra,re=r.autoFocus,ue=(0,F.Z)(function(){return _||!1},{value:B.collapsed,onChange:B.onCollapse}),te=(0,T.Z)(ue,2),Q=te[0],de=te[1],ce=(0,t.useContext)(A.ZP.ConfigContext),_e=ce.getPrefixCls,Y=_e("pro-form-group"),ne=f&&t.createElement(h.Z,{style:{marginRight:8},rotate:Q?void 0:90}),oe=t.createElement(c.Z,{label:ne?t.createElement("div",null,ne,I):I,tooltip:S}),ae=ee?ee(oe,B):oe,J=[],pe=t.Children.toArray(L).map(function(M,X){var k;return t.isValidElement(M)&&(M==null||(k=M.props)===null||k===void 0?void 0:k.hidden)?(J.push(M),null):X===0&&t.isValidElement(M)&&re?t.cloneElement(M,(0,m.Z)((0,m.Z)({},M.props),{},{autoFocus:re})):M});return t.createElement("div",{className:n()(Y,(0,O.Z)({},"".concat(Y,"-twoLine"),E==="twoLine")),style:C,ref:x},J.length>0&&t.createElement("div",{style:{display:"none"}},J),(I||S||H)&&t.createElement("div",{className:"".concat(Y,"-title"),style:le,onClick:function(){de(!Q)}},H?t.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},ae,t.createElement("span",{onClick:function(X){return X.stopPropagation()}},H)):ae),f&&Q?null:t.createElement(W.Z,(0,i.Z)({},G,{className:"".concat(Y,"-container"),size:ie,align:P,direction:se,style:(0,m.Z)({rowGap:0},G==null?void 0:G.style)}),pe))});s.displayName="ProForm-Group";var l=s,u=e(60758),o=e(82785);function g(B){return t.createElement(u.Z,(0,i.Z)({layout:"vertical",submitter:{render:function(j,d){return d.reverse()}},contentRender:function(j,d){return t.createElement(t.Fragment,null,j,d)}},B))}g.Group=l,g.useForm=D.Z.useForm,g.Item=o.Z;var p=g,b=e(69989),V=p.Group,K=p},32185:function(z,y,e){"use strict";e.r(y),e.d(y,{default:function(){return V}});var v=e(34792),D=e(48086),i=e(3182),t=e(69610),w=e(54941),W=e(81306),O=e(72936),R=e(402),A=e(97272),T=e(94043),m=e.n(T),h=e(67294),Z=e(15196),U=e(5966),F=e(90672),c=e(5234),a=e.n(c),n=e(72757),s=e.n(n),l=e(11021),u=e(39265),o=e(7477),g=e(85224),p=e(85893),b=A.Z.Title,V=function(K){(0,W.Z)(x,K);var B=(0,O.Z)(x);function x(j){var d;return(0,t.Z)(this,x),d=B.call(this,j),d.state={id:d.props.location.query.id,courseDetail:{},isDisabled:d.props.location.query.id},d.getExercise=(0,i.Z)(m().mark(function r(){var L,f,_;return m().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return L=d.state.id,f=d.props.location.query.topic_title,E.next=4,(0,l.Sp)(f,L);case 4:_=E.sent,_.error_code==200?d.setState({courseDetail:_.data}):D.default.error(_.msg);case 6:case"end":return E.stop()}},r)})),d.save=function(){var r=(0,i.Z)(m().mark(function L(f){var _,C,E,$,I,S;return m().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(_=d.state.courseDetail,_.title){P.next=5;break}D.default.warning("please input the course title"),P.next=20;break;case 5:if(_.content){P.next=9;break}D.default.warning("please input the course content"),P.next=20;break;case 9:if(C=d.props.location.query,E=C.topic_title,$=C.id,!$){P.next=16;break}return P.next=13,(0,l.tu)($,E,f.title,_.content,f.answer,f.hint);case 13:I=P.sent,P.next=19;break;case 16:return P.next=18,(0,l.xH)(E,_.title,_.content,_.answer,_.hint);case 18:I=P.sent;case 19:I.error_code==200?(D.default.success("Save success"),S=I.data.id,d.props.history.push("/courseAdmin/courseDisplay?topic_title=".concat(E,"&id=").concat(S))):D.default.error("Save error! "+I.msg);case 20:case"end":return P.stop()}},L)}));return function(L){return r.apply(this,arguments)}}(),d}return(0,w.Z)(x,[{key:"componentDidMount",value:function(){this.props.location.query.id&&this.getExercise()}},{key:"render",value:function(){var d=this,r=this.state.courseDetail,L=this.props.location.query.topic_title;return(0,p.jsx)(o.ZP,{ghost:!0,onBack:function(){return d.props.history.go(-1)},header:{title:(0,p.jsx)(b,{level:2,children:r.id?"Edit Course":"Add Course"})},children:(0,p.jsx)(u.ZP,{children:(0,p.jsxs)(Z.ZP,{submitter:{render:function(_,C){return(0,p.jsx)(g.Z,{children:C})},searchConfig:{submitText:"Submit"},resetButtonProps:{style:{display:"none"}}},onFinish:this.save,children:[(0,p.jsx)(U.Z,{width:"md",name:"title",label:"Course Title",placeholder:"input course title here",value:r==null?void 0:r.title,onChange:function(_){r.title=_.target.value,d.setState({courseDetail:r})}}),(0,p.jsx)(Z.ZP.Item,{name:"content",label:"Course Content",value:r==null?void 0:r.content,children:(0,p.jsx)(n.CKEditor,{editor:a(),data:r.content,config:{toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"],shouldNotGroupWhenFull:!1},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"}]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},ckfinder:{uploadUrl:"/server/V1/course/upload_course_img/".concat(L,"/")}},onChange:function(_,C){var E=d.state.courseDetail,$=C.getData();E.content=$,d.setState({courseDetail:E})},onError:function(_){var C=_.willEditorRestart;C&&d.editor.ui.view.toolbar.element.remove()}})}),(0,p.jsx)(F.Z,{name:"answer",label:"Answer",value:r==null?void 0:r.answer,placeholder:"Please input the answer for the code",onChange:function(_){r.answer=_.target.value,d.setState({courseDetail:r})}}),(0,p.jsx)(F.Z,{name:"hint",label:"Hint",value:r==null?void 0:r.hint,placeholder:"Please input the hint for the code exercise",onChange:function(_){r.hint=_.target.value,d.setState({courseDetail:r})}})]})})})}}]),x}(h.Component)},11021:function(z,y,e){"use strict";e.d(y,{D0:function(){return w},wA:function(){return W},tu:function(){return O},rq:function(){return R},xH:function(){return A},G$:function(){return T},Sp:function(){return m},A:function(){return h},BK:function(){return Z},BW:function(){return U},EI:function(){return F}});var v=e(3182),D=e(94043),i=e.n(D),t=e(21010),w=function(){var c=(0,v.Z)(i().mark(function a(n){var s;return i().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s="/server/V1/course/topicsByTeacher/?teacher_id=".concat(n),u.abrupt("return",(0,t.WY)(s));case 2:case"end":return u.stop()}},a)}));return function(n){return c.apply(this,arguments)}}(),W=function(){var c=(0,v.Z)(i().mark(function a(n,s){var l;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l="/server/V1/course/edit/",o.abrupt("return",(0,t.WY)(l,{method:"post",data:{request_entity:"Topic",content:{topic_id:n,topic_info:s}}}));case 2:case"end":return o.stop()}},a)}));return function(n,s){return c.apply(this,arguments)}}(),O=function(){var c=(0,v.Z)(i().mark(function a(n,s,l,u,o,g,p){var b;return i().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return b="/server/V1/course/edit/",K.abrupt("return",(0,t.WY)(b,{method:"post",data:{request_entity:"Course",content:{id:n,related_topic:s,title:l,content:u,answer:o,hint:g,teacher_id:p}}}));case 2:case"end":return K.stop()}},a)}));return function(n,s,l,u,o,g,p){return c.apply(this,arguments)}}(),R=function(){var c=(0,v.Z)(i().mark(function a(n,s,l,u){var o;return i().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return o="/server/V1/course/create/",p.abrupt("return",(0,t.WY)(o,{method:"post",data:{request_entity:"Topic",content:{topic_title:n,topic_content:s,topic_img:l,teacher_id:u}}}));case 2:case"end":return p.stop()}},a)}));return function(n,s,l,u){return c.apply(this,arguments)}}(),A=function(){var c=(0,v.Z)(i().mark(function a(n,s,l,u,o){var g;return i().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="/server/V1/course/create/",b.abrupt("return",(0,t.WY)(g,{method:"post",data:{request_entity:"Course",content:{related_topic:n,title:s,content:l,answer:u,hint:o}}}));case 2:case"end":return b.stop()}},a)}));return function(n,s,l,u,o){return c.apply(this,arguments)}}(),T=function(){var c=(0,v.Z)(i().mark(function a(n){var s;return i().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s="/server/V1/course/courses/".concat(n,"/"),u.abrupt("return",(0,t.WY)(s));case 2:case"end":return u.stop()}},a)}));return function(n){return c.apply(this,arguments)}}(),m=function(){var c=(0,v.Z)(i().mark(function a(n,s){var l;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l="/server/V1/course/courseDetail/".concat(n,"/").concat(s,"/"),o.abrupt("return",(0,t.WY)(l));case 2:case"end":return o.stop()}},a)}));return function(n,s){return c.apply(this,arguments)}}(),h=function(){var c=(0,v.Z)(i().mark(function a(n,s){var l;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l="/server/V1/course/delete/",o.abrupt("return",(0,t.WY)(l,{method:"post",data:{request_entity:"Course",related_topic:n,content:s}}));case 2:case"end":return o.stop()}},a)}));return function(n,s){return c.apply(this,arguments)}}(),Z=function(){var c=(0,v.Z)(i().mark(function a(n){var s;return i().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s="/server/V1/course/delete/",u.abrupt("return",(0,t.WY)(s,{method:"post",data:{request_entity:"Topic",content:n}}));case 2:case"end":return u.stop()}},a)}));return function(n){return c.apply(this,arguments)}}(),U=function(){var c=(0,v.Z)(i().mark(function a(n,s){var l;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l="/server/V1/course/sort/",o.abrupt("return",(0,t.WY)(l,{method:"post",data:{request_entity:"Course",related_topic:n,content:s}}));case 2:case"end":return o.stop()}},a)}));return function(n,s){return c.apply(this,arguments)}}(),F=function(){var c=(0,v.Z)(i().mark(function a(n,s){var l;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l="/server/V1/course/delete_img/",o.abrupt("return",(0,t.WY)(l,{method:"post",data:{request_entity:s,fname:n}}));case 2:case"end":return o.stop()}},a)}));return function(n,s){return c.apply(this,arguments)}}()},63891:function(){},69989:function(){}}]);
