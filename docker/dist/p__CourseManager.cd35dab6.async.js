(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[412],{5966:function(z,R,e){"use strict";var m=e(22122),D=e(81253),i=e(67294),a=e(12536),I=["fieldProps","proFieldProps"],L=["fieldProps","proFieldProps"],Z="text",x=function(P){var W=P.fieldProps,B=P.proFieldProps,b=(0,D.Z)(P,I);return i.createElement(a.Z,(0,m.Z)({mode:"edit",valueType:Z,fieldProps:W,filedConfig:{valueType:Z},proFieldProps:B},b))},O=function(P){var W=P.fieldProps,B=P.proFieldProps,b=(0,D.Z)(P,L);return i.createElement(a.Z,(0,m.Z)({mode:"edit",valueType:"password",fieldProps:W,proFieldProps:B,filedConfig:{valueType:Z}},b))},F=x;F.Password=O,F.displayName="ProFormComponent",R.Z=F},15196:function(z,R,e){"use strict";e.d(R,{UW:function(){return U},ZP:function(){return _}});var m=e(9715),D=e(41003),i=e(22122),a=e(67294),I=e(49111),L=e(19650),Z=e(96156),x=e(84305),O=e(39559),F=e(28481),g=e(28991),P=e(8812),W=e(66758),B=e(63891),b=e(56725),c=e(53621),r=e(94184),s=e.n(r),n=a.forwardRef(function(p,T){var h=a.useContext(W.Z),d=h.groupProps,u=(0,g.Z)((0,g.Z)({},d),p),E=u.children,w=u.collapsible,j=u.defaultCollapsed,A=u.style,K=u.labelLayout,V=u.title,v=V===void 0?p.label:V,J=u.tooltip,X=u.align,ae=X===void 0?"start":X,se=u.direction,k=u.size,ie=k===void 0?32:k,le=u.titleStyle,q=u.titleRender,$=u.spaceProps,G=u.extra,ee=u.autoFocus,ue=(0,b.Z)(function(){return j||!1},{value:p.collapsed,onChange:p.onCollapse}),re=(0,F.Z)(ue,2),Y=re[0],ce=re[1],de=(0,a.useContext)(O.ZP.ConfigContext),_e=de.getPrefixCls,S=_e("pro-form-group"),te=w&&a.createElement(P.Z,{style:{marginRight:8},rotate:Y?void 0:90}),ne=a.createElement(c.Z,{label:te?a.createElement("div",null,te,v):v,tooltip:J}),oe=q?q(ne,p):ne,N=[],pe=a.Children.toArray(E).map(function(M,H){var Q;return a.isValidElement(M)&&(M==null||(Q=M.props)===null||Q===void 0?void 0:Q.hidden)?(N.push(M),null):H===0&&a.isValidElement(M)&&ee?a.cloneElement(M,(0,g.Z)((0,g.Z)({},M.props),{},{autoFocus:ee})):M});return a.createElement("div",{className:s()(S,(0,Z.Z)({},"".concat(S,"-twoLine"),K==="twoLine")),style:A,ref:T},N.length>0&&a.createElement("div",{style:{display:"none"}},N),(v||J||G)&&a.createElement("div",{className:"".concat(S,"-title"),style:le,onClick:function(){ce(!Y)}},G?a.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},oe,a.createElement("span",{onClick:function(H){return H.stopPropagation()}},G)):oe),w&&Y?null:a.createElement(L.Z,(0,i.Z)({},$,{className:"".concat(S,"-container"),size:ie,align:ae,direction:se,style:(0,g.Z)({rowGap:0},$==null?void 0:$.style)}),pe))});n.displayName="ProForm-Group";var l=n,t=e(60758),o=e(82785);function C(p){return a.createElement(t.Z,(0,i.Z)({layout:"vertical",submitter:{render:function(h,d){return d.reverse()}},contentRender:function(h,d){return a.createElement(a.Fragment,null,h,d)}},p))}C.Group=l,C.useForm=D.Z.useForm,C.Item=o.Z;var f=C,y=e(69989),U=f.Group,_=f},32185:function(z,R,e){"use strict";e.r(R),e.d(R,{default:function(){return o}});var m=e(34792),D=e(48086),i=e(3182),a=e(69610),I=e(54941),L=e(81306),Z=e(72936),x=e(94043),O=e.n(x),F=e(67294),g=e(15196),P=e(5966),W=e(5234),B=e.n(W),b=e(72757),c=e.n(b),r=e(11021),s=e(39265),n=e(78009),l=e(85224),t=e(85893),o=function(C){(0,L.Z)(y,C);var f=(0,Z.Z)(y);function y(U){var _;return(0,a.Z)(this,y),_=f.call(this,U),_.state={id:_.props.location.query.id,courseDetail:{},isDisabled:_.props.location.query.id},_.getExercise=(0,i.Z)(O().mark(function p(){var T,h,d;return O().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return T=_.state.id,h=_.props.location.query.topic_title,E.next=4,(0,r.Sp)(h,T);case 4:d=E.sent,d.error_code==200?_.setState({courseDetail:d.data}):D.default.error(d.msg);case 6:case"end":return E.stop()}},p)})),_.save=function(){var p=(0,i.Z)(O().mark(function T(h){var d,u,E,w,j,A,K;return O().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(d=_.state.courseDetail,d.title){v.next=5;break}D.default.warning("please input the course title"),v.next=21;break;case 5:if(d.content){v.next=9;break}D.default.warning("please input the course content"),v.next=21;break;case 9:if(u=_.props.location.query,E=u.topic_title,w=u.id,j=1,!w){v.next=17;break}return v.next=14,(0,r.tu)(w,E,h.title,d.content,j);case 14:A=v.sent,v.next=20;break;case 17:return v.next=19,(0,r.xH)(E,h.title,d.content,j);case 19:A=v.sent;case 20:A.error_code==200?(D.default.success("Save success"),K=A.data.id,_.props.history.push("/courseAdmin/courseDisplay?topic_title=".concat(E,"&id=").concat(K))):D.default.error("Save error! "+A.msg);case 21:case"end":return v.stop()}},T)}));return function(T){return p.apply(this,arguments)}}(),_}return(0,I.Z)(y,[{key:"componentDidMount",value:function(){this.props.location.query.id&&this.getExercise()}},{key:"render",value:function(){var _=this,p=this.state.courseDetail,T=this.props.location.query.topic_title;return(0,t.jsx)(n.ZP,{ghost:!0,onBack:function(){return _.props.history.go(-1)},header:{title:p.id?"Edit Course":"Add Course"},children:(0,t.jsx)(s.ZP,{children:(0,t.jsxs)(g.ZP,{submitter:{render:function(d,u){return(0,t.jsx)(l.Z,{children:u})},searchConfig:{submitText:"Submit"},resetButtonProps:{style:{display:"none"}}},onFinish:this.save,children:[(0,t.jsx)(P.Z,{width:"md",name:"title",label:"Course Title",placeholder:"input course title here",value:p.title,onChange:function(d){p.title=d.target.value,_.setState({courseDetail:p})}}),(0,t.jsx)(g.ZP.Item,{name:"content",label:"Course Content",value:p.content,children:(0,t.jsx)(b.CKEditor,{editor:B(),data:p.content,config:{toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"],shouldNotGroupWhenFull:!1},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"}]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},ckfinder:{uploadUrl:"/server/V1/course/upload_course_img/".concat(T,"/")}},onChange:function(d,u){var E=_.state.courseDetail,w=u.getData();E.content=w,_.setState({courseDetail:E})},onError:function(d){var u=d.willEditorRestart;u&&_.editor.ui.view.toolbar.element.remove()}})})]})})})}}]),y}(F.Component)},11021:function(z,R,e){"use strict";e.d(R,{D0:function(){return I},wA:function(){return L},tu:function(){return Z},rq:function(){return x},xH:function(){return O},G$:function(){return F},Sp:function(){return g},A:function(){return P},BK:function(){return W},BW:function(){return B},EI:function(){return b}});var m=e(3182),D=e(94043),i=e.n(D),a=e(21010),I=function(){var c=(0,m.Z)(i().mark(function r(s){var n;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="/server/V1/course/topicsByTeacher/?teacher_id=".concat(s),t.abrupt("return",(0,a.WY)(n));case 2:case"end":return t.stop()}},r)}));return function(s){return c.apply(this,arguments)}}(),L=function(){var c=(0,m.Z)(i().mark(function r(s,n){var l;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l="/server/V1/course/edit/",o.abrupt("return",(0,a.WY)(l,{method:"post",data:{request_entity:"Topic",content:{topic_id:s,topic_info:n}}}));case 2:case"end":return o.stop()}},r)}));return function(s,n){return c.apply(this,arguments)}}(),Z=function(){var c=(0,m.Z)(i().mark(function r(s,n,l,t,o){var C;return i().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return C="/server/V1/course/edit/",y.abrupt("return",(0,a.WY)(C,{method:"post",data:{request_entity:"Course",content:{id:s,related_topic:n,title:l,content:t,teacher_id:o}}}));case 2:case"end":return y.stop()}},r)}));return function(s,n,l,t,o){return c.apply(this,arguments)}}(),x=function(){var c=(0,m.Z)(i().mark(function r(s,n,l,t){var o;return i().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o="/server/V1/course/create/",f.abrupt("return",(0,a.WY)(o,{method:"post",data:{request_entity:"Topic",content:{topic_title:s,topic_content:n,topic_img:l,teacher_id:t}}}));case 2:case"end":return f.stop()}},r)}));return function(s,n,l,t){return c.apply(this,arguments)}}(),O=function(){var c=(0,m.Z)(i().mark(function r(s,n,l,t){var o;return i().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o="/server/V1/course/create/",f.abrupt("return",(0,a.WY)(o,{method:"post",data:{request_entity:"Course",content:{related_topic:s,title:n,content:l,teacher_id:t}}}));case 2:case"end":return f.stop()}},r)}));return function(s,n,l,t){return c.apply(this,arguments)}}(),F=function(){var c=(0,m.Z)(i().mark(function r(s){var n;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="/server/V1/course/courses/".concat(s,"/"),t.abrupt("return",(0,a.WY)(n));case 2:case"end":return t.stop()}},r)}));return function(s){return c.apply(this,arguments)}}(),g=function(){var c=(0,m.Z)(i().mark(function r(s,n){var l;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l="/server/V1/course/courseDetail/".concat(s,"/").concat(n,"/"),o.abrupt("return",(0,a.WY)(l));case 2:case"end":return o.stop()}},r)}));return function(s,n){return c.apply(this,arguments)}}(),P=function(){var c=(0,m.Z)(i().mark(function r(s,n){var l;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l="/server/V1/course/delete/",o.abrupt("return",(0,a.WY)(l,{method:"post",data:{request_entity:"Course",related_topic:s,content:n}}));case 2:case"end":return o.stop()}},r)}));return function(s,n){return c.apply(this,arguments)}}(),W=function(){var c=(0,m.Z)(i().mark(function r(s){var n;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="/server/V1/course/delete/",t.abrupt("return",(0,a.WY)(n,{method:"post",data:{request_entity:"Topic",content:s}}));case 2:case"end":return t.stop()}},r)}));return function(s){return c.apply(this,arguments)}}(),B=function(){var c=(0,m.Z)(i().mark(function r(s,n){var l;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l="/server/V1/course/sort/",o.abrupt("return",(0,a.WY)(l,{method:"post",data:{request_entity:"Course",related_topic:s,content:n}}));case 2:case"end":return o.stop()}},r)}));return function(s,n){return c.apply(this,arguments)}}(),b=function(){var c=(0,m.Z)(i().mark(function r(s,n){var l;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l="/server/V1/course/delete_img/",o.abrupt("return",(0,a.WY)(l,{method:"post",data:{request_entity:n,fname:s}}));case 2:case"end":return o.stop()}},r)}));return function(s,n){return c.apply(this,arguments)}}()},63891:function(){},69989:function(){}}]);
