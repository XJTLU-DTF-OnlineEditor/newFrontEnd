(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[201],{2981:function(ce,J,e){"use strict";e.r(J),e.d(J,{default:function(){return $e}});var F=e(32059),q=e(59250),Z=e(13013),W=e(57663),L=e(71577),_=e(98858),N=e(4914),ee=e(30887),Q=e(54689),te=e(34792),X=e(48086),Y=e(3182),K=e(2824),k=e(94043),o=e.n(k),n=e(67294),a=e(69610),i=e(54941),y=e(81306),l=e(72936),u=e(29656),G=e(4631),A=e(99762),H=e(36629),we=e(71707),Me=e(48991),Be=e(20017),We=e(88657),Ae=e(89700),Ve=e(35688),Le=e(9898),Ke=e(82801),Ye=e(93411),Ne=e(5321),ze=e(960),Ge=e(88386),He=e(69109),de=e(69816),fe=e(25782),pe=e(24616),he=e(21444),ve=e(38296),me=e(21010),re=function(){var $=(0,Y.Z)(o().mark(function w(S,r,c,v,m,s){var h;return o().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return h="/server/V1/editor/run/",console.log(S+" "+r+" "+c+"  "+v+"  "+m+" "+s),j.abrupt("return",(0,me.WY)(h,{method:"post",data:{id:m,terminate:s,lang:v,inputType:S,source:r,input:c,memory_limit:243232,time_limit:5}}));case 3:case"end":return j.stop()}},w)}));return function(S,r,c,v,m,s){return $.apply(this,arguments)}}(),ge=e(1798),b=e.n(ge),z=e(39265),ne=e(77596),t=e(85893),ye=function($){(0,y.Z)(S,$);var w=(0,l.Z)(S);function S(){var r;(0,a.Z)(this,S);for(var c=arguments.length,v=new Array(c),m=0;m<c;m++)v[m]=arguments[m];return r=w.call.apply(w,[this].concat(v)),r.state={isFullScreen:!1,isCodeFull:!1,source:"",isRuntime:!1,loading:!1,disable:!1,input:"",inputType:"Interactive",lang:"python"},r.rootRef=n.createRef(),r.fullScreen=function(){r.state.isFullScreen||r.rootRef.current.requestFullscreen()},r.exitFullScreen=function(){document.exitFullscreen()},r.handeleRun=function(){var s=r.state.isRuntime,h;s?(h=!0,r.setState({isRuntime:!1}),b().publish("input",{need_input:!1}),r.setState({disable:!0}),setTimeout(function(){r.setState({disable:!1})},1500)):(h=!1,r.setState({isRuntime:!0})),r.runcode(h)},r.runcode=function(){var s=(0,Y.Z)(o().mark(function h(x){var j,D,I,d,f,T,p,E,C,g,O,M,R,V;return o().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return r.setState({loading:!0}),j=r.state,D=j.inputType,I=j.source,d=j.input,f=j.lang,T=(0,ne.x0)(),P.next=5,re(D,I,d,f,T,x);case 5:p=P.sent,console.log(p),E=p.error_code,C=p.msg,g=p.run_data_backend,console.log("error_code: "+E),console.log("msg: "+C),console.log("run_data_backend"+g),O=g.id,M=g.errors,R=g.Output,V=g.need_input,console.log("resid: "+O),console.log("output: "+R),x||O===T&&(E===200?V?b().publish("input",{need_input:V,input:R}):(r.setState({isRuntime:!1}),b().publish("showRes",{error_code:E,Output:R})):(r.setState({isRuntime:!1}),E===410||E===408?b().publish("showRes",{error_code:E,Output:"["+M+"]"}):b().publish("showRes",{error_code:E,Output:"[something went wrong, please try again]"}))),r.setState({loading:!1});case 16:case"end":return P.stop()}},h)}));return function(h){return s.apply(this,arguments)}}(),r}return(0,i.Z)(S,[{key:"componentDidMount",value:function(){var c=this;b().subscribe("editor",function(v,m){c.setState(m)}),window.onresize=function(){document.fullscreenElement?c.setState({isFullScreen:!0}):c.setState({isFullScreen:!1})}}},{key:"render",value:function(){var c=this,v=this.state,m=v.isRuntime,s=v.loading,h=v.disable,x=v.isFullScreen,j=v.source,D=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L.Z,{ghost:!0,type:"primary",loading:s,disabled:h,onClick:this.handeleRun,icon:m?(0,t.jsx)(de.Z,{}):(0,t.jsx)(fe.Z,{}),children:m?"Edit":"Run"}),(0,t.jsx)(L.Z,{icon:(0,t.jsx)(pe.Z,{})}),x?(0,t.jsx)(L.Z,{icon:(0,t.jsx)(he.Z,{}),onClick:this.exitFullScreen}):(0,t.jsx)(L.Z,{icon:(0,t.jsx)(ve.Z,{}),onClick:this.fullScreen})]}),I={mode:"python",theme:"darcula",autofocus:!0,styleActiveLine:!0,lineNumbers:!0,smartIndent:!0,lineWrapping:!0,foldGutter:!0,placeholder:"code goes here",gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,autoCloseBrackets:!0,fullScreen:x,scrollbarStyle:"simple",cursorScrollMargin:5,extraKeys:{Ctrl:"autocomplete","Ctrl-S":function(f){f.codeSave(f)},"Ctrl-Z":function(f){f.undo()},F8:function(f){f.redo()}}};return(0,t.jsx)(z.ZP,{title:"Source",ghost:!0,extra:D,children:(0,t.jsx)("div",{ref:this.rootRef,children:(0,t.jsx)(u.fk,{className:"editor",value:j,options:I,onBeforeChange:function(f,T,p){c.setState({source:p})}})})})}}]),S}(n.Component),xe=e(6700),Ce=e(93488),Se=e(57551),Ue=e(43358),se=e(34041),ae=se.Z.Option,Ze=function($){(0,y.Z)(S,$);var w=(0,l.Z)(S);function S(){var r;(0,a.Z)(this,S);for(var c=arguments.length,v=new Array(c),m=0;m<c;m++)v[m]=arguments[m];return r=w.call.apply(w,[this].concat(v)),r.state={input:"",inputType:"interactive",need_input:!1,showInputarea:"none",noeditarea:0,lang:"python"},r.handleChange=function(s,h,x){r.state.inputType==="split"&&b().publish("editor",{input:x}),(h.origin==="setValue"||typeof h.origin=="undefined")&&(s.focus(),s.execCommand("goDocEnd"),r.setState({noeditarea:s.lastLine()}))},r.handleCursorActivity=function(s){s.getCursor().line<=r.state.noeditarea&&s.execCommand("goDocEnd")},r.handleKey=function(s,h){if(h==="Enter"){var x=s.getLine(s.lastLine()-1);r.sendInput(x,s),r.setState({noeditarea:s.lastLine()})}},r.handleSelect=function(s){r.setState({inputType:s}),b().publish("editor",{inputType:s})},r.sendInput=function(){var s=(0,Y.Z)(o().mark(function h(x,j){var D,I,d,f,T,p,E,C,g,O,M,R,V;return o().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(D=r.state,I=D.inputType,d=D.lang,f=D.need_input,T=!1,!(I==="interactive"&&f)){P.next=10;break}return p=(0,ne.x0)(),P.next=6,re(I,"",x,d,p,T);case 6:E=P.sent,C=E.error_code,g=E.data,O=g.id,M=g.errors,R=g.output,V=g.need_input,O===p&&(C===200?(j.setValue(j.getValue()+R),r.setState({need_input:V}),V||(b().publish("showRes",{error_code:C,output:R}),b().publish("editor",{isRuntime:!1}))):(b().publish("editor",{isRuntime:!1}),C===410||C===408?b().publish("showRes",{error_code:C,output:"["+M+"]"}):b().publish("showRes",{error_code:C,output:"[something went wrong, please try again]"})));case 10:case"end":return P.stop()}},h)}));return function(h,x){return s.apply(this,arguments)}}(),r}return(0,i.Z)(S,[{key:"componentDidMount",value:function(){var c=this;b().subscribe("input",function(v,m){c.setState(m)})}},{key:"render",value:function(){var c=this,v=this.state,m=v.need_input,s=v.inputType,h=v.input,x=(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(se.Z,{className:"selectMode",defaultValue:"interactive",style:{width:180},onSelect:this.handleSelect,disabled:m,children:[(0,t.jsx)(ae,{value:"split",children:"Split input/output"}),(0,t.jsx)(ae,{value:"interactive",children:"Interactive Terminal"})]})}),j={readOnly:s==="split"||m?!1:"nocursor",theme:"darcula",cursorScrollMargin:5,smartIndent:!1,scrollbarStyle:"simple",placeholder:"input goes here",autofocus:h,lineNumbers:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"]},D=(0,t.jsx)(u.fk,{className:"input",value:h,options:j,onBeforeChange:function(f,T,p){c.setState({input:p})},onCursorActivity:function(f){c.handleCursorActivity(f)},onChange:function(f,T,p){c.handleChange(f,T,p)},onFocus:function(f){f.scrollIntoView()},onKeyHandled:function(f,T){c.handleKey(f,T)}}),I=(0,t.jsx)(u.fk,{className:"input",value:h,options:j,onBeforeChange:function(f,T,p){c.setState({input:p})},onChange:function(f,T,p){c.handleChange(f,T,p)}});return(0,t.jsx)(z.ZP,{title:"Input / Output / Terminal",ghost:!0,extra:x,children:this.state.inputType==="split"?I:this.state.need_input||this.state.input?D:null})}}]),S}(n.Component),Je=e(57106),je=e(99683),Qe=e(7359),ie=e(27279),Te=e(18613),Ee=e(68628),Re=e(21796),Oe=e(73218);function De(){var $=ie.Z.Panel,w="",S=(0,n.useState)(""),r=(0,K.Z)(S,2),c=r[0],v=r[1],m=(0,n.useState)("sucess"),s=(0,K.Z)(m,2),h=s[0],x=s[1],j=(0,n.useState)((0,t.jsx)(Te.Z,{style:{fontSize:"30px"}})),D=(0,K.Z)(j,2),I=D[0],d=D[1],f=(0,t.jsx)(je.ZP,{icon:I,subTitle:c||"Results will be shown here"});return(0,n.useEffect)(function(){PubSub.subscribe("showRes",function(T,p){var E=p.Output.replace(`
`,"<br />");E=(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:E}}),p.error_code==200?(d((0,t.jsx)(Ee.Z,{style:{fontSize:"0",color:"#1890ff94"}})),x("info")):p.error_code==410||p.error_code==408?(d((0,t.jsx)(Re.Z,{style:{fontSize:"50px",color:"#faad1494"}})),x("warning")):(d((0,t.jsx)(Oe.Z,{style:{fontSize:"50px",color:"#ff4d4f94"}})),x("error")),v(E),PubSub.publish("resCollapsed",!1)})}),(0,t.jsxs)(ie.Z,{bordered:!1,ghost:!0,className:"reshint",defaultActiveKey:["2"],children:[(0,t.jsx)($,{header:"Show hints",children:(0,t.jsx)("div",{children:w})},"1"),(0,t.jsx)($,{header:"Result",className:h,children:(0,t.jsx)("div",{children:f})},"2")]})}var be=e(78009),ue=e(11021),Ie=e(72757),Fe=e(5234),Pe=e.n(Fe);function $e($){var w=this,S,r=(0,n.useState)([]),c=(0,K.Z)(r,2),v=c[0],m=c[1],s=(0,n.useState)(""),h=(0,K.Z)(s,2),x=h[0],j=h[1],D=(0,n.useState)({}),I=(0,K.Z)(D,2),d=I[0],f=I[1];(0,n.useEffect)(function(){b().subscribe("resCollapsed",function(C,g){setResCollapsed(g),setCollapsed(!g)})}),(0,n.useEffect)(function(){T()},[]);var T=function(){var C=(0,Y.Z)(o().mark(function g(){var O,M,R,V,B;return o().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return O=$.match.params,M=O.id,R=O.related_topic,U.next=3,(0,ue.G$)(R);case 3:V=U.sent,B=V.course_list,B=B.map(function(oe){var le=oe.fields;return le.id=oe.pk,le}),m(B),j(R),p(R,M);case 9:case"end":return U.stop()}},g)}));return function(){return C.apply(this,arguments)}}(),p=function(){var C=(0,Y.Z)(o().mark(function g(O,M){var R;return o().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return $.history.push("".concat(M)),B.next=3,(0,ue.Sp)(O,M);case 3:R=B.sent,R.error_code==200?f(R.data):X.default.error(R.msg);case 5:case"end":return B.stop()}},g)}));return function(O,M){return C.apply(this,arguments)}}(),E=(0,t.jsx)(Q.Z,{onClick:function(g){var O=g.key;return p(x,+O)},children:typeof v=="object"?v.map(function(C){return(0,t.jsx)(Q.Z.Item,{children:(0,t.jsx)("a",{target:"_blank",children:C.title})},C.id)}):[]});return(0,t.jsx)(be.ZP,{ghost:!0,header:{title:d.title,breadcrumb:{}},onBack:function(){return $.history.go(-1)},content:(0,t.jsxs)(N.Z,{size:"middle",column:3,children:[(0,t.jsx)(N.Z.Item,{label:"related topic",children:x}),(0,t.jsx)(N.Z.Item,{label:"update date",children:d.update_date}),(0,t.jsx)(N.Z.Item,{label:"views",children:(0,t.jsx)("a",{children:d.views})})]}),extra:[(0,t.jsxs)(L.Z,{onClick:function(){return p(x,d.id-1)},disabled:d.id-1<1,children:[(0,t.jsx)(xe.Z,{}),"last exercise"]},"3"),(0,t.jsxs)(L.Z,{onClick:function(){return p(x,d.id+1)},disabled:d.id+1>v.length,children:["next exercise",(0,t.jsx)(Ce.Z,{})]},"2"),(0,t.jsx)(Z.Z,{overlay:E,children:(0,t.jsx)("a",{className:"ant-dropdown-link",onClick:function(g){return g.preventDefault()},children:(0,t.jsx)(L.Z,{children:(0,t.jsx)(Se.Z,{})})})},"1")],children:(0,t.jsxs)(z.ZP,(S={ghost:!0,gutter:16},(0,F.Z)(S,"ghost",!0),(0,F.Z)(S,"style",{height:500}),(0,F.Z)(S,"children",[(0,t.jsx)(z.ZP,{colSpan:8,style:{minHeight:600,paddingTop:"20px"},className:"course",ghost:!0,children:(0,t.jsx)(Ie.CKEditor,{editor:Pe(),disabled:!0,data:d.content,config:{toolbar:{items:[]}},onError:function(g){var O=g.willEditorRestart;O&&w.editor.ui.view.toolbar.element.remove()}})}),(0,t.jsxs)(z.ZP,{ghost:!0,colSpan:12,children:[(0,t.jsx)(ye,{}),(0,t.jsx)(Ze,{})]}),(0,t.jsx)(z.ZP,{ghost:!0,colSpan:4,children:(0,t.jsx)(De,{})})]),S))})}},11021:function(ce,J,e){"use strict";e.d(J,{D0:function(){return L},wA:function(){return _},tu:function(){return N},rq:function(){return ee},xH:function(){return Q},G$:function(){return te},Sp:function(){return X},A:function(){return Y},BK:function(){return K},BW:function(){return k}});var F=e(3182),q=e(94043),Z=e.n(q),W=e(21010),L=function(){var o=(0,F.Z)(Z().mark(function n(a){var i;return Z().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i="/server/V1/course/topicsByTeacher/?teacher_id=".concat(a),l.abrupt("return",(0,W.WY)(i));case 2:case"end":return l.stop()}},n)}));return function(a){return o.apply(this,arguments)}}(),_=function(){var o=(0,F.Z)(Z().mark(function n(a,i){var y;return Z().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return y="/server/V1/course/edit/",u.abrupt("return",(0,W.WY)(y,{method:"post",data:{request_entity:"Topic",content:{topic_id:a,topic_info:i}}}));case 2:case"end":return u.stop()}},n)}));return function(a,i){return o.apply(this,arguments)}}(),N=function(){var o=(0,F.Z)(Z().mark(function n(a,i,y,l,u){var G;return Z().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return G="/server/V1/course/edit/",H.abrupt("return",(0,W.WY)(G,{method:"post",data:{request_entity:"Course",content:{id:a,related_topic:i,title:y,content:l,teacher_id:u}}}));case 2:case"end":return H.stop()}},n)}));return function(a,i,y,l,u){return o.apply(this,arguments)}}(),ee=function(){var o=(0,F.Z)(Z().mark(function n(a,i,y,l){var u;return Z().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return u="/server/V1/course/create/",A.abrupt("return",(0,W.WY)(u,{method:"post",data:{request_entity:"Topic",content:{topic_title:a,topic_content:i,topic_img:y,teacher_id:l}}}));case 2:case"end":return A.stop()}},n)}));return function(a,i,y,l){return o.apply(this,arguments)}}(),Q=function(){var o=(0,F.Z)(Z().mark(function n(a,i,y,l){var u;return Z().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return u="/server/V1/course/create/",A.abrupt("return",(0,W.WY)(u,{method:"post",data:{request_entity:"Course",content:{related_topic:a,title:i,content:y,teacher_id:l}}}));case 2:case"end":return A.stop()}},n)}));return function(a,i,y,l){return o.apply(this,arguments)}}(),te=function(){var o=(0,F.Z)(Z().mark(function n(a){var i;return Z().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i="/server/V1/course/courses/".concat(a,"/"),l.abrupt("return",(0,W.WY)(i));case 2:case"end":return l.stop()}},n)}));return function(a){return o.apply(this,arguments)}}(),X=function(){var o=(0,F.Z)(Z().mark(function n(a,i){var y;return Z().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return y="/server/V1/course/courseDetail/".concat(a,"/").concat(i,"/"),u.abrupt("return",(0,W.WY)(y));case 2:case"end":return u.stop()}},n)}));return function(a,i){return o.apply(this,arguments)}}(),Y=function(){var o=(0,F.Z)(Z().mark(function n(a,i){var y;return Z().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return y="/server/V1/course/delete/",u.abrupt("return",(0,W.WY)(y,{method:"post",data:{request_entity:"Course",related_topic:a,content:i}}));case 2:case"end":return u.stop()}},n)}));return function(a,i){return o.apply(this,arguments)}}(),K=function(){var o=(0,F.Z)(Z().mark(function n(a){var i;return Z().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i="/server/V1/course/delete/",l.abrupt("return",(0,W.WY)(i,{method:"post",data:{request_entity:"Topic",content:a}}));case 2:case"end":return l.stop()}},n)}));return function(a){return o.apply(this,arguments)}}(),k=function(){var o=(0,F.Z)(Z().mark(function n(a,i){var y;return Z().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return y="/server/V1/course/sort/",u.abrupt("return",(0,W.WY)(y,{method:"post",data:{request_entity:"Course",related_topic:a,content:i}}));case 2:case"end":return u.stop()}},n)}));return function(a,i){return o.apply(this,arguments)}}()}}]);
