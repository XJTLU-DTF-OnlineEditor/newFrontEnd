(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{5966:function(ve,G,e){"use strict";var p=e(22122),x=e(81253),R=e(67294),a=e(12536),H=["fieldProps","proFieldProps"],v=["fieldProps","proFieldProps"],A="text",N=function(b){var r=b.fieldProps,T=b.proFieldProps,o=(0,x.Z)(b,H);return R.createElement(a.Z,(0,p.Z)({mode:"edit",valueType:A,fieldProps:r,filedConfig:{valueType:A},proFieldProps:T},o))},ee=function(b){var r=b.fieldProps,T=b.proFieldProps,o=(0,x.Z)(b,v);return R.createElement(a.Z,(0,p.Z)({mode:"edit",valueType:"password",fieldProps:r,proFieldProps:T,filedConfig:{valueType:A}},o))},te=N;te.Password=ee,te.displayName="ProFormComponent",G.Z=te},15196:function(ve,G,e){"use strict";e.d(G,{UW:function(){return Me},ZP:function(){return ue}});var p=e(9715),x=e(93766),R=e(22122),a=e(67294),H=e(49111),v=e(19650),A=e(96156),N=e(84305),ee=e(39559),te=e(28481),U=e(28991),b=e(8812),r=e(66758),T=e(63891),o=e(56725),h=e(53621),c=e(94184),J=e.n(c),D=a.forwardRef(function(V,me){var S=a.useContext(r.Z),d=S.groupProps,i=(0,U.Z)((0,U.Z)({},d),V),P=i.children,u=i.collapsible,w=i.defaultCollapsed,oe=i.style,I=i.labelLayout,ie=i.title,ne=ie===void 0?V.label:ie,L=i.tooltip,Z=i.align,C=Z===void 0?"start":Z,y=i.direction,f=i.size,Ze=f===void 0?32:f,Oe=i.titleStyle,pe=i.titleRender,xe=i.spaceProps,k=i.extra,X=i.autoFocus,M=(0,o.Z)(function(){return w||!1},{value:V.collapsed,onChange:V.onCollapse}),je=(0,te.Z)(M,2),t=je[0],Ce=je[1],Ne=(0,a.useContext)(ee.ZP.ConfigContext),Re=Ne.getPrefixCls,B=Re("pro-form-group"),Y=u&&a.createElement(b.Z,{style:{marginRight:8},rotate:t?void 0:90}),g=a.createElement(h.Z,{label:Y?a.createElement("div",null,Y,ne):ne,tooltip:L}),ce=pe?pe(g,V):g,Q=[],Fe=a.Children.toArray(P).map(function($,de){var fe;return a.isValidElement($)&&($==null||(fe=$.props)===null||fe===void 0?void 0:fe.hidden)?(Q.push($),null):de===0&&a.isValidElement($)&&X?a.cloneElement($,(0,U.Z)((0,U.Z)({},$.props),{},{autoFocus:X})):$});return a.createElement("div",{className:J()(B,(0,A.Z)({},"".concat(B,"-twoLine"),I==="twoLine")),style:oe,ref:me},Q.length>0&&a.createElement("div",{style:{display:"none"}},Q),(ne||L||k)&&a.createElement("div",{className:"".concat(B,"-title"),style:Oe,onClick:function(){Ce(!t)}},k?a.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},ce,a.createElement("span",{onClick:function(de){return de.stopPropagation()}},k)):ce),u&&t?null:a.createElement(v.Z,(0,R.Z)({},xe,{className:"".concat(B,"-container"),size:Ze,align:C,direction:y,style:(0,U.Z)({rowGap:0},xe==null?void 0:xe.style)}),Fe))});D.displayName="ProForm-Group";var E=D,F=e(60758),ae=e(82785);function re(V){return a.createElement(F.Z,(0,R.Z)({layout:"vertical",submitter:{render:function(S,d){return d.reverse()}},contentRender:function(S,d){return a.createElement(a.Fragment,null,S,d)}},V))}re.Group=E,re.useForm=x.Z.useForm,re.Item=ae.Z;var K=re,se=e(69989),Me=K.Group,ue=K},53621:function(ve,G,e){"use strict";var p=e(22385),x=e(69713),R=e(96156),a=e(84305),H=e(39559),v=e(67294),A=e(68628),N=e(80110),ee=e.n(N),te=e(94184),U=e.n(te),b=function(T){var o=T.label,h=T.tooltip,c=T.ellipsis,J=T.subTitle,D=(0,v.useContext)(H.ZP.ConfigContext),E=D.getPrefixCls;if(!h&&!J)return v.createElement(v.Fragment,null,o);var F=E("pro-core-label-tip"),ae=typeof h=="string"||v.isValidElement(h)?{title:h}:h,re=(ae==null?void 0:ae.icon)||v.createElement(A.Z,null);return v.createElement("div",{className:F,onMouseDown:function(se){return se.stopPropagation()},onMouseLeave:function(se){return se.stopPropagation()},onMouseMove:function(se){return se.stopPropagation()}},v.createElement("div",{className:U()("".concat(F,"-title"),(0,R.Z)({},"".concat(F,"-title-ellipsis"),c))},o),J&&v.createElement("div",{className:"".concat(F,"-subtitle")},J),h&&v.createElement(x.Z,ae,v.createElement("span",{className:"".concat(F,"-icon")},re)))};G.Z=v.memo(b)},69089:function(ve,G,e){"use strict";e.r(G),e.d(G,{default:function(){return Re}});var p=e(49111),x=e(19650),R=e(18106),a=e(58634),H=e(34792),v=e(48086),A=e(11849),N=e(3182),ee=e(2824),te=e(17462),U=e(76772),b=e(94043),r=e.n(b),T=e(28991),o=e(67294),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},c=h,J=e(27029),D=function(Y,g){return o.createElement(J.Z,(0,T.Z)((0,T.Z)({},Y),{},{ref:g,icon:c}))};D.displayName="MailOutlined";var E=o.forwardRef(D),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},ae=F,re=function(Y,g){return o.createElement(J.Z,(0,T.Z)((0,T.Z)({},Y),{},{ref:g,icon:ae}))};re.displayName="LockOutlined";var K=o.forwardRef(re),se=e(89366),Me=e(9715),ue=e(93766),V=e(57663),me=e(71577),S=e(47673),d=e(4107),i=e(22122),P=e(87757),u=e.n(P),w=e(92137),oe=e(81253),I=e(28481),ie=e(64893),ne=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"],L=o.forwardRef(function(B,Y){var g=(0,o.useState)(B.countDown||60),ce=(0,I.Z)(g,2),Q=ce[0],Fe=ce[1],$=(0,o.useState)(!1),de=(0,I.Z)($,2),fe=de[0],Te=de[1],Se=(0,o.useState)(),De=(0,I.Z)(Se,2),he=De[0],W=De[1],Ee=B.rules,Le=B.name,Ae=B.phoneName,Ie=B.fieldProps,Be=B.captchaTextRender,$e=Be===void 0?function(ge,Pe){return ge?"".concat(Pe," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:Be,m=B.captchaProps,Ke=(0,oe.Z)(B,ne),Ue=function(){var ge=(0,w.Z)(u().mark(function Pe(ye){return u().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,W(!0),s.next=4,Ke.onGetCaptcha(ye);case 4:W(!1),Te(!0),s.next=13;break;case 8:s.prev=8,s.t0=s.catch(0),Te(!1),W(!1),console.log(s.t0);case 13:case"end":return s.stop()}},Pe,null,[[0,8]])}));return function(ye){return ge.apply(this,arguments)}}();return(0,o.useEffect)(function(){var ge=0,Pe=B.countDown;return fe&&(ge=window.setInterval(function(){Fe(function(ye){return ye<=1?(Te(!1),clearInterval(ge),Pe||60):ye-1})},1e3)),function(){return clearInterval(ge)}},[fe]),o.createElement(ue.Z.Item,{noStyle:!0,shouldUpdate:!0},function(ge){var Pe=ge.getFieldValue,ye=ge.validateFields;return o.createElement("div",{style:(0,T.Z)((0,T.Z)({},Ie==null?void 0:Ie.style),{},{display:"flex",alignItems:"center"}),ref:Y},o.createElement(d.Z,(0,i.Z)({},Ie,{style:{flex:1,transition:"width .3s",marginRight:8}})),o.createElement(me.Z,(0,i.Z)({style:{display:"block"},disabled:fe,loading:he},m,{onClick:(0,w.Z)(u().mark(function O(){var s;return u().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,!Ae){l.next=9;break}return l.next=4,ye([Ae].flat(1));case 4:return s=Pe([Ae].flat(1)),l.next=7,Ue(s);case 7:l.next=11;break;case 9:return l.next=11,Ue("");case 11:l.next=16;break;case 13:l.prev=13,l.t0=l.catch(0),console.log(l.t0);case 16:case"end":return l.stop()}},O,null,[[0,13]])}))}),$e(fe,Q)))})}),Z=(0,ie.Z)(L),C=e(15196),y=e(5966),f=e(21010),Ze=e(19611),Oe=e(2540),pe=e(29811);function xe(B,Y){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime.mark(function B(Y,g){return _regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",request("/api/login/captcha",_objectSpread({method:"GET",params:_objectSpread({},Y)},g||{})));case 1:case"end":return Q.stop()}},B)})),k.apply(this,arguments)}var X=e(16113),M=e.n(X),je=e(86331),t=e(85893),Ce=function(Y){var g=Y.content;return(0,t.jsx)(U.Z,{style:{marginBottom:24},message:g,type:"error",showIcon:!0})},Ne=function(){var Y=(0,o.useState)(!1),g=(0,ee.Z)(Y,2),ce=g[0],Q=g[1],Fe=(0,o.useState)({}),$=(0,ee.Z)(Fe,2),de=$[0],fe=$[1],Te=(0,o.useState)("login"),Se=(0,ee.Z)(Te,2),De=Se[0],he=Se[1],W=(0,o.useState)("student"),Ee=(0,ee.Z)(W,2),Le=Ee[0],Ae=Ee[1],Ie=(0,f.tT)("@@initialState"),Be=Ie.initialState,$e=Ie.setInitialState,m=(0,f.YB)(),Ke=function(){var O=(0,N.Z)(r().mark(function s(){var n,l;return r().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,Be==null||(n=Be.fetchUserInfo)===null||n===void 0?void 0:n.call(Be);case 2:if(l=le.sent,!l){le.next=6;break}return le.next=6,$e(function(z){return(0,A.Z)((0,A.Z)({},z),{},{currentUser:l})});case 6:case"end":return le.stop()}},s)}));return function(){return O.apply(this,arguments)}}(),Ue=function(){var O=(0,N.Z)(r().mark(function s(n){var l,j,le,z,be,We;return r().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return Q(!0),console.log(n),Le==="student"?(n.email=n.email+"@student.xjtlu.edu.cn",console.log(n)):Le==="teacher"&&(n.email=n.email+"@xjtlu.edu.cn",console.log(n)),_.prev=3,_.next=6,(0,pe.x4)((0,A.Z)((0,A.Z)({},n),{},{userType:Le}));case 6:if(l=_.sent,console.log(l),l.error_code!==200){_.next=20;break}if(j=m.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),v.default.success(j),localStorage.setItem("token",l.token),localStorage.setItem("currentAuthority",l.currentAuthority),Ke(),f.m8){_.next=16;break}return _.abrupt("return");case 16:return le=f.m8.location.query,z=le.redirect,f.m8.push(z||"/"),_.abrupt("return");case 20:l.error_code===422&&(be=m.formatMessage({id:"pages.login.wrong",defaultMessage:"\u8BF7\u68C0\u67E5\u7528\u6237\u540D\u6216\u5BC6\u7801\uFF01"}),v.default.error(be)),_.next=31;break;case 23:_.prev=23,_.t0=_.catch(3),console.dir(_.t0.data),fe(_.t0.data),console.log(de),We=m.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),v.default.error(We),f.m8.push("/");case 31:Q(!1);case 32:case"end":return _.stop()}},s,null,[[3,23]])}));return function(n){return O.apply(this,arguments)}}(),ge=function(){var O=(0,N.Z)(r().mark(function s(n){var l,j,le,z,be,We,ze;return r().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return Q(!0),console.log(n),Le==="student"?(n.email=n.email+"@student.xjtlu.edu.cn",console.log(n)):Le==="teacher"&&(n.email=n.email+"@xjtlu.edu.cn",console.log(n)),q.prev=3,q.next=6,(0,pe.z2)((0,A.Z)((0,A.Z)({},n),{},{userType:Le}));case 6:if(l=q.sent,console.log(l),l.status!=="ok"){q.next=22;break}if(j=m.formatMessage({id:"pages.login.register.success",defaultMessage:"\u6CE8\u518C\u6210\u529F\uFF01"}),v.default.success(j),localStorage.setItem("token",l.token),localStorage.setItem("currentAuthority",l.currentAuthority),Ke(),f.m8){q.next=16;break}return q.abrupt("return");case 16:return le=f.m8.location.query,z=le.redirect,f.m8.push(z||"/"),q.abrupt("return");case 22:l.status==="error"&&l.error_code===421?(be=m.formatMessage({id:"pages.login.register.failure.exist",defaultMessage:"\u90AE\u7BB1\u5DF2\u88AB\u6CE8\u518C\uFF0C\u8BF7\u76F4\u63A5\u767B\u5F55\uFF01"}),v.default.error(be)):l.status==="error"&&l.error_code===420&&(We=m.formatMessage({id:"pages.login.register.failure.noCaptcha",defaultMessage:"\u8BF7\u5148\u83B7\u53D6\u9A8C\u8BC1\u7801\uFF01"}),v.default.error(We));case 23:q.next=33;break;case 25:q.prev=25,q.t0=q.catch(3),console.dir(q.t0.data),fe(q.t0.data),console.log(de),ze=m.formatMessage({id:"pages.login.register.failure",defaultMessage:"\u6CE8\u518C\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),v.default.error(ze),f.m8.push("/");case 33:Q(!1);case 34:case"end":return q.stop()}},s,null,[[3,25]])}));return function(n){return O.apply(this,arguments)}}(),Pe=de.status,ye=de.type;return(0,t.jsxs)("div",{className:M().container,children:[(0,t.jsx)("div",{className:M().lang,"data-lang":!0,children:f.pD&&(0,t.jsx)(f.pD,{})}),(0,t.jsxs)("div",{className:M().content,children:[(0,t.jsxs)("div",{className:M().top,children:[(0,t.jsx)("div",{className:M().header,children:(0,t.jsxs)(Ze.rU,{to:"/",children:[(0,t.jsx)("img",{alt:"logo",className:M().logo,src:"/logo.svg"}),(0,t.jsx)("span",{className:M().title,children:"XJTLU Online Editor"})]})}),(0,t.jsx)("div",{className:M().desc,children:m.formatMessage({id:"pages.layouts.userLayout.title"})})]}),(0,t.jsxs)("div",{className:M().main,children:[(0,t.jsxs)(a.Z,{activeKey:De,onChange:he,children:[(0,t.jsx)(a.Z.TabPane,{tab:m.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u767B\u5F55"})},"login"),(0,t.jsx)(a.Z.TabPane,{tab:m.formatMessage({id:"pages.login.register.tab",defaultMessage:"\u6CE8\u518C"})},"register")]}),Pe==="error"&&ye==="login"&&(0,t.jsx)(Ce,{content:m.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF(admin/ant.design)"})}),De==="login"&&(0,t.jsxs)(a.Z,{tabPosition:"top",activeKey:Le,onChange:Ae,children:[(0,t.jsx)(a.Z.TabPane,{tab:"\u6211\u662F\u540C\u5B66",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(C.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:m.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(s,n){return n.pop()},submitButtonProps:{loading:ce,size:"large",style:{width:"100%"}}},onFinish:function(){var O=(0,N.Z)(r().mark(function s(n){return r().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:Ue(n);case 1:case"end":return j.stop()}},s)}));return function(s){return O.apply(this,arguments)}}(),children:[(0,t.jsx)(y.Z,{name:"email",addonAfter:"@student.xjtlu.edu.cn",fieldProps:{size:"large",prefix:(0,t.jsx)(E,{className:M().prefixIcon})},placeholder:m.formatMessage({id:"pages.login.email.placeholder",defaultMessage:"XJTLU\u90AE\u7BB1\uFF08\u5FC5\u586B\uFF09"}),rules:[{required:!0,message:(0,t.jsx)(f._H,{id:"pages.login.email.required",defaultMessage:"\u8BF7\u8F93\u5165XJTLU\u90AE\u7BB1!"})}]}),(0,t.jsx)(y.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(K,{className:M().prefixIcon})},placeholder:m.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801"}),rules:[{required:!0,message:(0,t.jsx)(f._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),(0,t.jsx)("div",{style:{marginBottom:24},children:(0,t.jsx)("a",{style:{float:"right"},children:(0,t.jsx)(f._H,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})})]})},"student"),(0,t.jsx)(a.Z.TabPane,{tab:"\u6211\u662F\u8001\u5E08",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(C.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:m.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(s,n){return n.pop()},submitButtonProps:{loading:ce,size:"large",style:{width:"100%"}}},onFinish:function(){var O=(0,N.Z)(r().mark(function s(n){return r().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:Ue(n);case 1:case"end":return j.stop()}},s)}));return function(s){return O.apply(this,arguments)}}(),children:[(0,t.jsx)(y.Z,{name:"email",addonAfter:"@xjtlu.edu.cn",fieldProps:{size:"large",prefix:(0,t.jsx)(E,{className:M().prefixIcon})},placeholder:m.formatMessage({id:"pages.login.email.placeholder",defaultMessage:"XJTLU\u90AE\u7BB1(\u5FC5\u586B)"}),rules:[{required:!0,message:(0,t.jsx)(f._H,{id:"pages.login.email.required",defaultMessage:"\u8BF7\u8F93\u5165XJTLU\u90AE\u7BB1!"})}]}),(0,t.jsx)(y.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(K,{className:M().prefixIcon})},placeholder:m.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:(0,t.jsx)(f._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),(0,t.jsx)("div",{style:{marginBottom:24},children:(0,t.jsx)("a",{style:{float:"right"},children:(0,t.jsx)(f._H,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})})]})},"teacher")]}),Pe==="error"&&ye==="register"&&(0,t.jsx)(Ce,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),De==="register"&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(a.Z,{tabPosition:"top",onChange:Ae,children:[(0,t.jsx)(a.Z.TabPane,{tab:"\u6211\u662F\u540C\u5B66",children:(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(C.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:m.formatMessage({id:"pages.login.register.submit",defaultMessage:" \u6CE8\u518C"})},render:function(s,n){return n.pop()},submitButtonProps:{loading:ce,size:"large",style:{width:"100%"}}},onFinish:function(){var O=(0,N.Z)(r().mark(function s(n){return r().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:ge(n);case 1:case"end":return j.stop()}},s)}));return function(s){return O.apply(this,arguments)}}(),children:[(0,t.jsx)(y.Z,{name:"email",addonAfter:"@student.xjtlu.edu.cn",fieldProps:{size:"large",prefix:(0,t.jsx)(E,{className:M().prefixIcon})},placeholder:m.formatMessage({id:"pages.login.email.placeholder",defaultMessage:"XJTLU\u90AE\u7BB1\uFF08\u5FC5\u586B\uFF09"}),rules:[{required:!0,message:(0,t.jsx)(f._H,{id:"pages.login.email.required",defaultMessage:"\u8BF7\u8F93\u5165XJTLU\u90AE\u7BB1!"})}]}),(0,t.jsx)(y.Z,{name:"username",fieldProps:{size:"large",prefix:(0,t.jsx)(se.Z,{className:M().prefixIcon})},placeholder:m.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u6635\u79F0"})}),(0,t.jsx)(y.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(K,{className:M().prefixIcon})},placeholder:m.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801"}),rules:[{required:!0,message:(0,t.jsx)(f._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),(0,t.jsx)(Z,{fieldProps:{size:"large",prefix:(0,t.jsx)(K,{className:M().prefixIcon})},captchaProps:{size:"large"},placeholder:m.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(s,n){return s?"".concat(n," ").concat(m.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):m.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:(0,t.jsx)(f._H,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],phoneName:"email",onGetCaptcha:function(){var O=(0,N.Z)(r().mark(function s(n){var l,j;return r().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return l=n+"@student.xjtlu.edu.cn",z.next=3,(0,pe.an)({email:l});case 3:j=z.sent,v.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F");case 5:case"end":return z.stop()}},s)}));return function(s){return O.apply(this,arguments)}}()})]})})},"student"),(0,t.jsx)(a.Z.TabPane,{tab:"\u6211\u662F\u8001\u5E08",children:(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(C.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:m.formatMessage({id:"pages.login.register.submit",defaultMessage:" \u6CE8\u518C"})},render:function(s,n){return n.pop()},submitButtonProps:{loading:ce,size:"large",style:{width:"100%"}}},onFinish:function(){var O=(0,N.Z)(r().mark(function s(n){return r().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:ge(n);case 1:case"end":return j.stop()}},s)}));return function(s){return O.apply(this,arguments)}}(),children:[(0,t.jsx)(y.Z,{name:"email",addonAfter:"@xjtlu.edu.cn",fieldProps:{size:"large",prefix:(0,t.jsx)(E,{className:M().prefixIcon})},placeholder:m.formatMessage({id:"pages.login.email.placeholder",defaultMessage:"XJTLU\u90AE\u7BB1(\u5FC5\u586B)"}),rules:[{required:!0,message:(0,t.jsx)(f._H,{id:"pages.login.email.required",defaultMessage:"\u8BF7\u8F93\u5165XJTLU\u90AE\u7BB1!"})}]}),(0,t.jsx)(y.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(K,{className:M().prefixIcon})},placeholder:m.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801(\u5FC5\u586B)"}),rules:[{required:!0,message:(0,t.jsx)(f._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),(0,t.jsx)(Z,{fieldProps:{size:"large",prefix:(0,t.jsx)(K,{className:M().prefixIcon})},captchaProps:{size:"large"},placeholder:m.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(s,n){return s?"".concat(n," ").concat(m.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):m.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",phoneName:"email",rules:[{required:!0,message:(0,t.jsx)(f._H,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var O=(0,N.Z)(r().mark(function s(n){var l,j;return r().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return l=n+"@xjtlu.edu.cn",z.next=3,(0,pe.an)({email:l});case 3:j=z.sent,v.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F");case 5:case"end":return z.stop()}},s)}));return function(s){return O.apply(this,arguments)}}()})]})})},"teacher")]})}),(0,t.jsx)(x.Z,{className:M().other})]})]}),(0,t.jsx)(Oe.Z,{})]})},Re=Ne},76772:function(ve,G,e){"use strict";e.d(G,{Z:function(){return me}});var p=e(22122),x=e(96156),R=e(28481),a=e(67294),H=e(54549),v=e(15873),A=e(57119),N=e(68628),ee=e(73218),te=e(38819),U=e(68855),b=e(40847),r=e(43061),T=e(60444),o=e(94184),h=e.n(o),c=e(65632),J=e(5467),D=e(6610),E=e(5991),F=e(10379),ae=e(54070),re=function(S){(0,F.Z)(i,S);var d=(0,ae.Z)(i);function i(){var P;return(0,D.Z)(this,i),P=d.apply(this,arguments),P.state={error:void 0,info:{componentStack:""}},P}return(0,E.Z)(i,[{key:"componentDidCatch",value:function(u,w){this.setState({error:u,info:w})}},{key:"render",value:function(){var u=this.props,w=u.message,oe=u.description,I=u.children,ie=this.state,ne=ie.error,L=ie.info,Z=L&&L.componentStack?L.componentStack:null,C=typeof w=="undefined"?(ne||"").toString():w,y=typeof oe=="undefined"?Z:oe;return ne?a.createElement(me,{type:"error",message:C,description:a.createElement("pre",null,y)}):I}}]),i}(a.Component),K=e(96159),se=function(S,d){var i={};for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&d.indexOf(P)<0&&(i[P]=S[P]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,P=Object.getOwnPropertySymbols(S);u<P.length;u++)d.indexOf(P[u])<0&&Object.prototype.propertyIsEnumerable.call(S,P[u])&&(i[P[u]]=S[P[u]]);return i},Me={success:te.Z,info:b.Z,error:r.Z,warning:U.Z},ue={success:v.Z,info:N.Z,error:ee.Z,warning:A.Z},V=function(d){var i,P=d.description,u=d.prefixCls,w=d.message,oe=d.banner,I=d.className,ie=I===void 0?"":I,ne=d.style,L=d.onMouseEnter,Z=d.onMouseLeave,C=d.onClick,y=d.afterClose,f=d.showIcon,Ze=d.closable,Oe=d.closeText,pe=d.closeIcon,xe=pe===void 0?a.createElement(H.Z,null):pe,k=d.action,X=se(d,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),M=a.useState(!1),je=(0,R.Z)(M,2),t=je[0],Ce=je[1],Ne=a.useRef(),Re=a.useContext(c.E_),B=Re.getPrefixCls,Y=Re.direction,g=B("alert",u),ce=function(W){var Ee;Ce(!0),(Ee=X.onClose)===null||Ee===void 0||Ee.call(X,W)},Q=function(){var W=X.type;return W!==void 0?W:oe?"warning":"info"},Fe=Oe?!0:Ze,$=Q(),de=function(){var W=X.icon,Ee=(P?ue:Me)[$]||null;return W?(0,K.wm)(W,a.createElement("span",{className:"".concat(g,"-icon")},W),function(){return{className:h()("".concat(g,"-icon"),(0,x.Z)({},W.props.className,W.props.className))}}):a.createElement(Ee,{className:"".concat(g,"-icon")})},fe=function(){return Fe?a.createElement("button",{type:"button",onClick:ce,className:"".concat(g,"-close-icon"),tabIndex:0},Oe?a.createElement("span",{className:"".concat(g,"-close-text")},Oe):xe):null},Te=oe&&f===void 0?!0:f,Se=h()(g,"".concat(g,"-").concat($),(i={},(0,x.Z)(i,"".concat(g,"-with-description"),!!P),(0,x.Z)(i,"".concat(g,"-no-icon"),!Te),(0,x.Z)(i,"".concat(g,"-banner"),!!oe),(0,x.Z)(i,"".concat(g,"-rtl"),Y==="rtl"),i),ie),De=(0,J.Z)(X);return a.createElement(T.Z,{visible:!t,motionName:"".concat(g,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(W){return{maxHeight:W.offsetHeight}},onLeaveEnd:y},function(he){var W=he.className,Ee=he.style;return a.createElement("div",(0,p.Z)({ref:Ne,"data-show":!t,className:h()(Se,W),style:(0,p.Z)((0,p.Z)({},ne),Ee),onMouseEnter:L,onMouseLeave:Z,onClick:C,role:"alert"},De),Te?de():null,a.createElement("div",{className:"".concat(g,"-content")},w?a.createElement("div",{className:"".concat(g,"-message")},w):null,P?a.createElement("div",{className:"".concat(g,"-description")},P):null),k?a.createElement("div",{className:"".concat(g,"-action")},k):null,fe())})};V.ErrorBoundary=re;var me=V},17462:function(ve,G,e){"use strict";var p=e(38842),x=e.n(p),R=e(91481),a=e.n(R)},99134:function(ve,G,e){"use strict";var p=e(67294),x=(0,p.createContext)({});G.Z=x},21584:function(ve,G,e){"use strict";var p=e(96156),x=e(22122),R=e(90484),a=e(67294),H=e(94184),v=e.n(H),A=e(99134),N=e(65632),ee=function(r,T){var o={};for(var h in r)Object.prototype.hasOwnProperty.call(r,h)&&T.indexOf(h)<0&&(o[h]=r[h]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,h=Object.getOwnPropertySymbols(r);c<h.length;c++)T.indexOf(h[c])<0&&Object.prototype.propertyIsEnumerable.call(r,h[c])&&(o[h[c]]=r[h[c]]);return o};function te(r){return typeof r=="number"?"".concat(r," ").concat(r," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(r)?"0 0 ".concat(r):r}var U=["xs","sm","md","lg","xl","xxl"],b=a.forwardRef(function(r,T){var o,h=a.useContext(N.E_),c=h.getPrefixCls,J=h.direction,D=a.useContext(A.Z),E=D.gutter,F=D.wrap,ae=D.supportFlexGap,re=r.prefixCls,K=r.span,se=r.order,Me=r.offset,ue=r.push,V=r.pull,me=r.className,S=r.children,d=r.flex,i=r.style,P=ee(r,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),u=c("col",re),w={};U.forEach(function(L){var Z,C={},y=r[L];typeof y=="number"?C.span=y:(0,R.Z)(y)==="object"&&(C=y||{}),delete P[L],w=(0,x.Z)((0,x.Z)({},w),(Z={},(0,p.Z)(Z,"".concat(u,"-").concat(L,"-").concat(C.span),C.span!==void 0),(0,p.Z)(Z,"".concat(u,"-").concat(L,"-order-").concat(C.order),C.order||C.order===0),(0,p.Z)(Z,"".concat(u,"-").concat(L,"-offset-").concat(C.offset),C.offset||C.offset===0),(0,p.Z)(Z,"".concat(u,"-").concat(L,"-push-").concat(C.push),C.push||C.push===0),(0,p.Z)(Z,"".concat(u,"-").concat(L,"-pull-").concat(C.pull),C.pull||C.pull===0),(0,p.Z)(Z,"".concat(u,"-rtl"),J==="rtl"),Z))});var oe=v()(u,(o={},(0,p.Z)(o,"".concat(u,"-").concat(K),K!==void 0),(0,p.Z)(o,"".concat(u,"-order-").concat(se),se),(0,p.Z)(o,"".concat(u,"-offset-").concat(Me),Me),(0,p.Z)(o,"".concat(u,"-push-").concat(ue),ue),(0,p.Z)(o,"".concat(u,"-pull-").concat(V),V),o),me,w),I={};if(E&&E[0]>0){var ie=E[0]/2;I.paddingLeft=ie,I.paddingRight=ie}if(E&&E[1]>0&&!ae){var ne=E[1]/2;I.paddingTop=ne,I.paddingBottom=ne}return d&&(I.flex=te(d),F===!1&&!I.minWidth&&(I.minWidth=0)),a.createElement("div",(0,x.Z)({},P,{style:(0,x.Z)((0,x.Z)({},I),i),className:oe,ref:T}),S)});b.displayName="Col",G.Z=b},92820:function(ve,G,e){"use strict";var p=e(22122),x=e(96156),R=e(90484),a=e(28481),H=e(67294),v=e(94184),A=e.n(v),N=e(65632),ee=e(99134),te=e(93355),U=e(24308),b=e(98082),r=function(c,J){var D={};for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&J.indexOf(E)<0&&(D[E]=c[E]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var F=0,E=Object.getOwnPropertySymbols(c);F<E.length;F++)J.indexOf(E[F])<0&&Object.prototype.propertyIsEnumerable.call(c,E[F])&&(D[E[F]]=c[E[F]]);return D},T=(0,te.b)("top","middle","bottom","stretch"),o=(0,te.b)("start","end","center","space-around","space-between"),h=H.forwardRef(function(c,J){var D,E=c.prefixCls,F=c.justify,ae=c.align,re=c.className,K=c.style,se=c.children,Me=c.gutter,ue=Me===void 0?0:Me,V=c.wrap,me=r(c,["prefixCls","justify","align","className","style","children","gutter","wrap"]),S=H.useContext(N.E_),d=S.getPrefixCls,i=S.direction,P=H.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),u=(0,a.Z)(P,2),w=u[0],oe=u[1],I=(0,b.Z)(),ie=H.useRef(ue);H.useEffect(function(){var xe=U.ZP.subscribe(function(k){var X=ie.current||0;(!Array.isArray(X)&&(0,R.Z)(X)==="object"||Array.isArray(X)&&((0,R.Z)(X[0])==="object"||(0,R.Z)(X[1])==="object"))&&oe(k)});return function(){return U.ZP.unsubscribe(xe)}},[]);var ne=function(){var k=[0,0],X=Array.isArray(ue)?ue:[ue,0];return X.forEach(function(M,je){if((0,R.Z)(M)==="object")for(var t=0;t<U.c4.length;t++){var Ce=U.c4[t];if(w[Ce]&&M[Ce]!==void 0){k[je]=M[Ce];break}}else k[je]=M||0}),k},L=d("row",E),Z=ne(),C=A()(L,(D={},(0,x.Z)(D,"".concat(L,"-no-wrap"),V===!1),(0,x.Z)(D,"".concat(L,"-").concat(F),F),(0,x.Z)(D,"".concat(L,"-").concat(ae),ae),(0,x.Z)(D,"".concat(L,"-rtl"),i==="rtl"),D),re),y={},f=Z[0]>0?Z[0]/-2:void 0,Ze=Z[1]>0?Z[1]/-2:void 0;if(f&&(y.marginLeft=f,y.marginRight=f),I){var Oe=(0,a.Z)(Z,2);y.rowGap=Oe[1]}else Ze&&(y.marginTop=Ze,y.marginBottom=Ze);var pe=H.useMemo(function(){return{gutter:Z,wrap:V,supportFlexGap:I}},[Z,V,I]);return H.createElement(ee.Z.Provider,{value:pe},H.createElement("div",(0,p.Z)({},me,{className:C,style:(0,p.Z)((0,p.Z)({},y),K),ref:J}),se))});h.displayName="Row",G.Z=h},6999:function(ve,G,e){"use strict";var p=e(38842),x=e.n(p),R=e(76951),a=e.n(R)},16113:function(ve){ve.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},63891:function(){},69989:function(){},80110:function(){},91481:function(){},76951:function(){}}]);
