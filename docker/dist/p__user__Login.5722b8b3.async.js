(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{15196:function(ae,T,e){"use strict";e.d(T,{ZP:function(){return Ze}});var i=e(56640),E=e(9715),F=e(86835),o=e(22122),g=e(67294),S=e(88374),R=e(96156),G=e(49111),L=e(19650),me=e(84305),Ee=e(39559),oe=e(28481),a=e(28991),W=e(8812),c=e(56725),h=e(53621),m=e(94184),H=e.n(m),A=e(66758),M=e(2514),N=e(96138),Q=g.forwardRef(function(b,ne){var ie=g.useContext(A.Z),U=ie.groupProps,l=(0,a.Z)((0,a.Z)({},U),b),O=l.children,p=l.collapsible,d=l.defaultCollapsed,V=l.style,k=l.labelLayout,_=l.title,re=_===void 0?b.label:_,le=l.tooltip,I=l.align,Z=I===void 0?"start":I,x=l.direction,C=l.size,u=C===void 0?32:C,Le=l.titleStyle,Oe=l.titleRender,$=l.spaceProps,Ie=l.extra,ue=l.autoFocus,Me=(0,c.Z)(function(){return d||!1},{value:b.collapsed,onChange:b.onCollapse}),y=(0,oe.Z)(Me,2),ce=y[0],t=y[1],xe=(0,g.useContext)(Ee.ZP.ConfigContext),Be=xe.getPrefixCls,Pe=(0,M.zx)(b),B=Pe.ColWrapper,X=Pe.RowWrapper,f=Be("pro-form-group"),de=p&&g.createElement(W.Z,{style:{marginRight:8},rotate:ce?void 0:90}),q=g.createElement(h.Z,{label:de?g.createElement("div",null,de,re):re,tooltip:le}),Re=(0,g.useCallback)(function(ee){var J=ee.children;return g.createElement(L.Z,(0,o.Z)({},$,{className:H()("".concat(f,"-container"),$==null?void 0:$.className),size:u,align:Z,direction:x,style:(0,a.Z)({rowGap:0},$==null?void 0:$.style)}),J)},[Z,f,x,u,$]),je=Oe?Oe(q,b):q,ye=(0,g.useMemo)(function(){var ee=[],J=g.Children.toArray(O).map(function(P,fe){var he;return g.isValidElement(P)&&(P==null||(he=P.props)===null||he===void 0?void 0:he.hidden)?(ee.push(P),null):fe===0&&g.isValidElement(P)&&ue?g.cloneElement(P,(0,a.Z)((0,a.Z)({},P.props),{},{autoFocus:ue})):P});return[g.createElement(X,{key:"children",Wrapper:Re},J),ee.length>0?g.createElement("div",{style:{display:"none"}},ee):null]},[O,X,Re,ue]),ve=(0,oe.Z)(ye,2),De=ve[0],Ae=ve[1];return g.createElement(B,null,g.createElement("div",{className:H()(f,(0,R.Z)({},"".concat(f,"-twoLine"),k==="twoLine")),style:V,ref:ne},Ae,(re||le||Ie)&&g.createElement("div",{className:"".concat(f,"-title"),style:Le,onClick:function(){t(!ce)}},Ie?g.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},je,g.createElement("span",{onClick:function(J){return J.stopPropagation()}},Ie)):je),p&&ce?null:De))});Q.displayName="ProForm-Group";var pe=Q,w=e(27738);function K(b){return g.createElement(S.I,(0,o.Z)({layout:"vertical",submitter:{render:function(ie,U){return U.reverse()}},contentRender:function(ie,U){return g.createElement(g.Fragment,null,ie,U)}},b))}K.Group=pe,K.useForm=F.Z.useForm,K.Item=w.Z;var Ze=K},53621:function(ae,T,e){"use strict";var i=e(22385),E=e(61580),F=e(96156),o=e(84305),g=e(39559),S=e(68628),R=e(94184),G=e.n(R),L=e(67294),me=e(47369),Ee=e.n(me),oe=function(W){var c=W.label,h=W.tooltip,m=W.ellipsis,H=W.subTitle,A=(0,L.useContext)(g.ZP.ConfigContext),M=A.getPrefixCls;if(!h&&!H)return L.createElement(L.Fragment,null,c);var N=M("pro-core-label-tip"),Q=typeof h=="string"||L.isValidElement(h)?{title:h}:h,pe=(Q==null?void 0:Q.icon)||L.createElement(S.Z,null);return L.createElement("div",{className:N,onMouseDown:function(K){return K.stopPropagation()},onMouseLeave:function(K){return K.stopPropagation()},onMouseMove:function(K){return K.stopPropagation()}},L.createElement("div",{className:G()("".concat(N,"-title"),(0,F.Z)({},"".concat(N,"-title-ellipsis"),m))},c),H&&L.createElement("div",{className:"".concat(N,"-subtitle")},H),h&&L.createElement(E.Z,Q,L.createElement("span",{className:"".concat(N,"-icon")},pe)))};T.Z=L.memo(oe)},34687:function(ae){ae.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},96138:function(){},56640:function(){},47369:function(){},3178:function(){},80638:function(){},69089:function(ae,T,e){"use strict";e.r(T),e.d(T,{default:function(){return Pe}});var i=e(49111),E=e(19650),F=e(18106),o=e(51752),g=e(34792),S=e(48086),R=e(11849),G=e(3182),L=e(2824),me=e(17462),Ee=e(76772),oe=e(94043),a=e.n(oe),W=e(28991),c=e(67294),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},m=h,H=e(27029),A=function(X,f){return c.createElement(H.Z,(0,W.Z)((0,W.Z)({},X),{},{ref:f,icon:m}))};A.displayName="MailOutlined";var M=c.forwardRef(A),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},Q=N,pe=function(X,f){return c.createElement(H.Z,(0,W.Z)((0,W.Z)({},X),{},{ref:f,icon:Q}))};pe.displayName="LockOutlined";var w=c.forwardRef(pe),K=e(89366),Ze=e(9715),b=e(86835),ne=e(57663),ie=e(71577),U=e(47673),l=e(4107),O=e(22122),p=e(55507),d=e(92137),V=e(81253),k=e(28481),_=e(93189),re=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"],le=c.forwardRef(function(B,X){var f=(0,c.useState)(B.countDown||60),de=(0,k.Z)(f,2),q=de[0],Re=de[1],je=(0,c.useState)(!1),ye=(0,k.Z)(je,2),ve=ye[0],De=ye[1],Ae=(0,c.useState)(),ee=(0,k.Z)(Ae,2),J=ee[0],P=ee[1],fe=B.rules,he=B.name,Ne=B.phoneName,Fe=B.fieldProps,Se=B.captchaTextRender,Ke=Se===void 0?function(ge,Ce){return ge?"".concat(Ce," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:Se,v=B.captchaProps,be=(0,V.Z)(B,re),Ue=function(){var ge=(0,d.Z)((0,p.Z)().mark(function Ce(Te){return(0,p.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,P(!0),r.next=4,be.onGetCaptcha(Te);case 4:P(!1),De(!0),r.next=13;break;case 8:r.prev=8,r.t0=r.catch(0),De(!1),P(!1),console.log(r.t0);case 13:case"end":return r.stop()}},Ce,null,[[0,8]])}));return function(Te){return ge.apply(this,arguments)}}();return(0,c.useEffect)(function(){var ge=0,Ce=B.countDown;return ve&&(ge=window.setInterval(function(){Re(function(Te){return Te<=1?(De(!1),clearInterval(ge),Ce||60):Te-1})},1e3)),function(){return clearInterval(ge)}},[ve]),c.createElement(b.Z.Item,{noStyle:!0,shouldUpdate:!0},function(ge){var Ce=ge.getFieldValue,Te=ge.validateFields;return c.createElement("div",{style:(0,W.Z)((0,W.Z)({},Fe==null?void 0:Fe.style),{},{display:"flex",alignItems:"center"}),ref:X},c.createElement(l.Z,(0,O.Z)({},Fe,{style:{flex:1,transition:"width .3s",marginRight:8}})),c.createElement(ie.Z,(0,O.Z)({style:{display:"block"},disabled:ve,loading:J},v,{onClick:(0,d.Z)((0,p.Z)().mark(function j(){var r;return(0,p.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!Ne){n.next=9;break}return n.next=4,Te([Ne].flat(1));case 4:return r=Ce([Ne].flat(1)),n.next=7,Ue(r);case 7:n.next=11;break;case 9:return n.next=11,Ue("");case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0);case 16:case"end":return n.stop()}},j,null,[[0,13]])}))}),Ke(ve,q)))})}),I=(0,_.G)(le),Z=I,x=e(15196),C=e(5966),u=e(21010),Le=e(19611),Oe=e(2540),$=e(29811);function Ie(B,X){return ue.apply(this,arguments)}function ue(){return ue=_asyncToGenerator(_regeneratorRuntime.mark(function B(X,f){return _regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.abrupt("return",request("/api/login/captcha",_objectSpread({method:"GET",params:_objectSpread({},X)},f||{})));case 1:case"end":return q.stop()}},B)})),ue.apply(this,arguments)}var Me=e(34687),y=e.n(Me),ce=e(86331),t=e(85893),xe=function(X){var f=X.content;return(0,t.jsx)(Ee.Z,{style:{marginBottom:24},message:f,type:"error",showIcon:!0})},Be=function(){var X=(0,c.useState)(!1),f=(0,L.Z)(X,2),de=f[0],q=f[1],Re=(0,c.useState)({}),je=(0,L.Z)(Re,2),ye=je[0],ve=je[1],De=(0,c.useState)("login"),Ae=(0,L.Z)(De,2),ee=Ae[0],J=Ae[1],P=(0,c.useState)("student"),fe=(0,L.Z)(P,2),he=fe[0],Ne=fe[1],Fe=(0,u.tT)("@@initialState"),Se=Fe.initialState,Ke=Fe.setInitialState,v=(0,u.YB)(),be=function(){var j=(0,G.Z)(a().mark(function r(){var s,n;return a().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,Se==null||(s=Se.fetchUserInfo)===null||s===void 0?void 0:s.call(Se);case 2:if(n=se.sent,!n){se.next=6;break}return se.next=6,Ke(function(z){return(0,R.Z)((0,R.Z)({},z),{},{currentUser:n})});case 6:case"end":return se.stop()}},r)}));return function(){return j.apply(this,arguments)}}(),Ue=function(){var j=(0,G.Z)(a().mark(function r(s){var n,D,se,z,_e,We;return a().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return q(!0),console.log(s),he==="student"?(s.email=s.email+"@student.xjtlu.edu.cn",console.log(s)):he==="teacher"&&(s.email=s.email+"@xjtlu.edu.cn",console.log(s)),Y.prev=3,Y.next=6,(0,$.x4)((0,R.Z)((0,R.Z)({},s),{},{userType:he}));case 6:if(n=Y.sent,console.log(n),n.error_code!==200){Y.next=21;break}if(D=v.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),S.default.success(D),localStorage.setItem("token",n.token),localStorage.setItem("currentAuthority",n.currentAuthority),localStorage.setItem("currentAuthority",n.currentAuthority),be(),u.m8){Y.next=17;break}return Y.abrupt("return");case 17:return se=u.m8.location.query,z=se.redirect,u.m8.push(z||"/"),Y.abrupt("return");case 21:n.error_code===422&&(_e=v.formatMessage({id:"pages.login.wrong",defaultMessage:"\u8BF7\u68C0\u67E5\u7528\u6237\u540D\u6216\u5BC6\u7801\uFF01"}),S.default.error(_e)),Y.next=32;break;case 24:Y.prev=24,Y.t0=Y.catch(3),console.dir(Y.t0.data),ve(Y.t0.data),console.log(ye),We=v.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),S.default.error(We),u.m8.push("/");case 32:q(!1);case 33:case"end":return Y.stop()}},r,null,[[3,24]])}));return function(s){return j.apply(this,arguments)}}(),ge=function(){var j=(0,G.Z)(a().mark(function r(s){var n,D,se,z,_e,We,$e;return a().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return q(!0),console.log(s),he==="student"?(s.email=s.email+"@student.xjtlu.edu.cn",console.log(s)):he==="teacher"&&(s.email=s.email+"@xjtlu.edu.cn",console.log(s)),te.prev=3,te.next=6,(0,$.z2)((0,R.Z)((0,R.Z)({},s),{},{userType:he}));case 6:if(n=te.sent,console.log(n),n.status!=="ok"){te.next=22;break}if(D=v.formatMessage({id:"pages.login.register.success",defaultMessage:"\u6CE8\u518C\u6210\u529F\uFF01"}),S.default.success(D),localStorage.setItem("token",n.token),localStorage.setItem("currentAuthority",n.currentAuthority),be(),u.m8){te.next=16;break}return te.abrupt("return");case 16:return se=u.m8.location.query,z=se.redirect,u.m8.push(z||"/"),te.abrupt("return");case 22:n.status==="error"&&n.error_code===421?(_e=v.formatMessage({id:"pages.login.register.failure.exist",defaultMessage:"\u90AE\u7BB1\u5DF2\u88AB\u6CE8\u518C\uFF0C\u8BF7\u76F4\u63A5\u767B\u5F55\uFF01"}),S.default.error(_e)):n.status==="error"&&n.error_code===420&&(We=v.formatMessage({id:"pages.login.register.failure.noCaptcha",defaultMessage:"\u8BF7\u5148\u83B7\u53D6\u9A8C\u8BC1\u7801\uFF01"}),S.default.error(We));case 23:te.next=33;break;case 25:te.prev=25,te.t0=te.catch(3),console.dir(te.t0.data),ve(te.t0.data),console.log(ye),$e=v.formatMessage({id:"pages.login.register.failure",defaultMessage:"\u6CE8\u518C\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),S.default.error($e),u.m8.push("/");case 33:q(!1);case 34:case"end":return te.stop()}},r,null,[[3,25]])}));return function(s){return j.apply(this,arguments)}}(),Ce=ye.status,Te=ye.type;return(0,t.jsxs)("div",{className:y().container,children:[(0,t.jsx)("div",{className:y().lang,"data-lang":!0,children:u.pD&&(0,t.jsx)(u.pD,{})}),(0,t.jsxs)("div",{className:y().content,children:[(0,t.jsxs)("div",{className:y().top,children:[(0,t.jsx)("div",{className:y().header,children:(0,t.jsxs)(Le.rU,{to:"/",children:[(0,t.jsx)("img",{alt:"logo",className:y().logo,src:"/logo.svg"}),(0,t.jsx)("span",{className:y().title,children:"XJTLU Online Editor"})]})}),(0,t.jsx)("div",{className:y().desc,children:v.formatMessage({id:"pages.layouts.userLayout.title"})})]}),(0,t.jsxs)("div",{className:y().main,children:[(0,t.jsxs)(o.Z,{activeKey:ee,onChange:J,children:[(0,t.jsx)(o.Z.TabPane,{tab:v.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u767B\u5F55"})},"login"),(0,t.jsx)(o.Z.TabPane,{tab:v.formatMessage({id:"pages.login.register.tab",defaultMessage:"\u6CE8\u518C"})},"register")]}),Ce==="error"&&Te==="login"&&(0,t.jsx)(xe,{content:v.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF(admin/ant.design)"})}),ee==="login"&&(0,t.jsxs)(o.Z,{tabPosition:"top",activeKey:he,onChange:Ne,children:[(0,t.jsx)(o.Z.TabPane,{tab:(0,t.jsx)(u._H,{id:"pages.login.student"}),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:v.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(r,s){return s.pop()},submitButtonProps:{loading:de,size:"large",style:{width:"100%"}}},onFinish:function(){var j=(0,G.Z)(a().mark(function r(s){return a().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:Ue(s);case 1:case"end":return D.stop()}},r)}));return function(r){return j.apply(this,arguments)}}(),children:[(0,t.jsx)(C.Z,{name:"email",addonAfter:"@student.xjtlu.edu.cn",fieldProps:{size:"large",prefix:(0,t.jsx)(M,{className:y().prefixIcon})},placeholder:v.formatMessage({id:"pages.login.email.placeholder",defaultMessage:"XJTLU\u90AE\u7BB1\uFF08\u5FC5\u586B\uFF09"}),rules:[{required:!0,message:(0,t.jsx)(u._H,{id:"pages.login.email.required",defaultMessage:"\u8BF7\u8F93\u5165XJTLU\u90AE\u7BB1!"})}]}),(0,t.jsx)(C.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(w,{className:y().prefixIcon})},placeholder:v.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801"}),rules:[{required:!0,message:(0,t.jsx)(u._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),(0,t.jsx)("div",{style:{marginBottom:24},children:(0,t.jsx)("a",{style:{float:"right"},children:(0,t.jsx)(u._H,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})})]})},"student"),(0,t.jsx)(o.Z.TabPane,{tab:(0,t.jsx)(u._H,{id:"pages.login.teacher"}),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:v.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(r,s){return s.pop()},submitButtonProps:{loading:de,size:"large",style:{width:"100%"}}},onFinish:function(){var j=(0,G.Z)(a().mark(function r(s){return a().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:Ue(s);case 1:case"end":return D.stop()}},r)}));return function(r){return j.apply(this,arguments)}}(),children:[(0,t.jsx)(C.Z,{name:"email",addonAfter:"@xjtlu.edu.cn",fieldProps:{size:"large",prefix:(0,t.jsx)(M,{className:y().prefixIcon})},placeholder:v.formatMessage({id:"pages.login.email.placeholder",defaultMessage:"XJTLU\u90AE\u7BB1(\u5FC5\u586B)"}),rules:[{required:!0,message:(0,t.jsx)(u._H,{id:"pages.login.email.required",defaultMessage:"\u8BF7\u8F93\u5165XJTLU\u90AE\u7BB1!"})}]}),(0,t.jsx)(C.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(w,{className:y().prefixIcon})},placeholder:v.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:(0,t.jsx)(u._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),(0,t.jsx)("div",{style:{marginBottom:24},children:(0,t.jsx)("a",{style:{float:"right"},children:(0,t.jsx)(u._H,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})})]})},"teacher")]}),Ce==="error"&&Te==="register"&&(0,t.jsx)(xe,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),ee==="register"&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(o.Z,{tabPosition:"top",onChange:Ne,children:[(0,t.jsx)(o.Z.TabPane,{tab:(0,t.jsx)(u._H,{id:"pages.login.student"}),children:(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(x.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:v.formatMessage({id:"pages.login.register.submit",defaultMessage:" \u6CE8\u518C"})},render:function(r,s){return s.pop()},submitButtonProps:{loading:de,size:"large",style:{width:"100%"}}},onFinish:function(){var j=(0,G.Z)(a().mark(function r(s){return a().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:ge(s);case 1:case"end":return D.stop()}},r)}));return function(r){return j.apply(this,arguments)}}(),children:[(0,t.jsx)(C.Z,{name:"email",addonAfter:"@student.xjtlu.edu.cn",fieldProps:{size:"large",prefix:(0,t.jsx)(M,{className:y().prefixIcon})},placeholder:v.formatMessage({id:"pages.login.email.placeholder",defaultMessage:"XJTLU\u90AE\u7BB1\uFF08\u5FC5\u586B\uFF09"}),rules:[{required:!0,message:(0,t.jsx)(u._H,{id:"pages.login.email.required",defaultMessage:"\u8BF7\u8F93\u5165XJTLU\u90AE\u7BB1!"})}]}),(0,t.jsx)(C.Z,{name:"username",fieldProps:{size:"large",prefix:(0,t.jsx)(K.Z,{className:y().prefixIcon})},placeholder:v.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u6635\u79F0"})}),(0,t.jsx)(C.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(w,{className:y().prefixIcon})},placeholder:v.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801"}),rules:[{required:!0,message:(0,t.jsx)(u._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),(0,t.jsx)(Z,{fieldProps:{size:"large",prefix:(0,t.jsx)(w,{className:y().prefixIcon})},captchaProps:{size:"large"},placeholder:v.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(r,s){return r?"".concat(s," ").concat(v.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):v.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:(0,t.jsx)(u._H,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],phoneName:"email",onGetCaptcha:function(){var j=(0,G.Z)(a().mark(function r(s){var n,D;return a().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return n=s+"@student.xjtlu.edu.cn",z.next=3,(0,$.an)({email:n});case 3:D=z.sent,S.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F");case 5:case"end":return z.stop()}},r)}));return function(r){return j.apply(this,arguments)}}()})]})})},"student"),(0,t.jsx)(o.Z.TabPane,{tab:(0,t.jsx)(u._H,{id:"pages.login.teacher"}),children:(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(x.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:v.formatMessage({id:"pages.login.register.submit",defaultMessage:" \u6CE8\u518C"})},render:function(r,s){return s.pop()},submitButtonProps:{loading:de,size:"large",style:{width:"100%"}}},onFinish:function(){var j=(0,G.Z)(a().mark(function r(s){return a().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:ge(s);case 1:case"end":return D.stop()}},r)}));return function(r){return j.apply(this,arguments)}}(),children:[(0,t.jsx)(C.Z,{name:"email",addonAfter:"@xjtlu.edu.cn",fieldProps:{size:"large",prefix:(0,t.jsx)(M,{className:y().prefixIcon})},placeholder:v.formatMessage({id:"pages.login.email.placeholder",defaultMessage:"XJTLU\u90AE\u7BB1(\u5FC5\u586B)"}),rules:[{required:!0,message:(0,t.jsx)(u._H,{id:"pages.login.email.required",defaultMessage:"\u8BF7\u8F93\u5165XJTLU\u90AE\u7BB1!"})}]}),(0,t.jsx)(C.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(w,{className:y().prefixIcon})},placeholder:v.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801(\u5FC5\u586B)"}),rules:[{required:!0,message:(0,t.jsx)(u._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),(0,t.jsx)(Z,{fieldProps:{size:"large",prefix:(0,t.jsx)(w,{className:y().prefixIcon})},captchaProps:{size:"large"},placeholder:v.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(r,s){return r?"".concat(s," ").concat(v.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):v.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",phoneName:"email",rules:[{required:!0,message:(0,t.jsx)(u._H,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var j=(0,G.Z)(a().mark(function r(s){var n,D;return a().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return n=s+"@xjtlu.edu.cn",z.next=3,(0,$.an)({email:n});case 3:D=z.sent,S.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F");case 5:case"end":return z.stop()}},r)}));return function(r){return j.apply(this,arguments)}}()})]})})},"teacher")]})}),(0,t.jsx)(E.Z,{className:y().other})]})]}),(0,t.jsx)(Oe.Z,{})]})},Pe=Be},76772:function(ae,T,e){"use strict";e.d(T,{Z:function(){return ie}});var i=e(22122),E=e(96156),F=e(28481),o=e(67294),g=e(54549),S=e(15873),R=e(57119),G=e(68628),L=e(73218),me=e(38819),Ee=e(68855),oe=e(40847),a=e(43061),W=e(63441),c=e(94184),h=e.n(c),m=e(53124),H=e(5467),A=e(6610),M=e(5991),N=e(10379),Q=e(44144),pe=function(U){(0,N.Z)(O,U);var l=(0,Q.Z)(O);function O(){var p;return(0,A.Z)(this,O),p=l.apply(this,arguments),p.state={error:void 0,info:{componentStack:""}},p}return(0,M.Z)(O,[{key:"componentDidCatch",value:function(d,V){this.setState({error:d,info:V})}},{key:"render",value:function(){var d=this.props,V=d.message,k=d.description,_=d.children,re=this.state,le=re.error,I=re.info,Z=I&&I.componentStack?I.componentStack:null,x=typeof V=="undefined"?(le||"").toString():V,C=typeof k=="undefined"?Z:k;return le?o.createElement(ie,{type:"error",message:x,description:o.createElement("pre",null,C)}):_}}]),O}(o.Component),w=e(96159),K=function(U,l){var O={};for(var p in U)Object.prototype.hasOwnProperty.call(U,p)&&l.indexOf(p)<0&&(O[p]=U[p]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,p=Object.getOwnPropertySymbols(U);d<p.length;d++)l.indexOf(p[d])<0&&Object.prototype.propertyIsEnumerable.call(U,p[d])&&(O[p[d]]=U[p[d]]);return O},Ze={success:me.Z,info:oe.Z,error:a.Z,warning:Ee.Z},b={success:S.Z,info:G.Z,error:L.Z,warning:R.Z},ne=function(l){var O,p=l.description,d=l.prefixCls,V=l.message,k=l.banner,_=l.className,re=_===void 0?"":_,le=l.style,I=l.onMouseEnter,Z=l.onMouseLeave,x=l.onClick,C=l.afterClose,u=l.showIcon,Le=l.closable,Oe=l.closeText,$=l.closeIcon,Ie=$===void 0?o.createElement(g.Z,null):$,ue=l.action,Me=K(l,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),y=o.useState(!1),ce=(0,F.Z)(y,2),t=ce[0],xe=ce[1],Be=o.useRef(),Pe=o.useContext(m.E_),B=Pe.getPrefixCls,X=Pe.direction,f=B("alert",d),de=function(P){var fe;xe(!0),(fe=Me.onClose)===null||fe===void 0||fe.call(Me,P)},q=function(){var P=Me.type;return P!==void 0?P:k?"warning":"info"},Re=Oe?!0:Le,je=q(),ye=function(){var P=Me.icon,fe=(p?b:Ze)[je]||null;return P?(0,w.wm)(P,o.createElement("span",{className:"".concat(f,"-icon")},P),function(){return{className:h()("".concat(f,"-icon"),(0,E.Z)({},P.props.className,P.props.className))}}):o.createElement(fe,{className:"".concat(f,"-icon")})},ve=function(){return Re?o.createElement("button",{type:"button",onClick:de,className:"".concat(f,"-close-icon"),tabIndex:0},Oe?o.createElement("span",{className:"".concat(f,"-close-text")},Oe):Ie):null},De=k&&u===void 0?!0:u,Ae=h()(f,"".concat(f,"-").concat(je),(O={},(0,E.Z)(O,"".concat(f,"-with-description"),!!p),(0,E.Z)(O,"".concat(f,"-no-icon"),!De),(0,E.Z)(O,"".concat(f,"-banner"),!!k),(0,E.Z)(O,"".concat(f,"-rtl"),X==="rtl"),O),re),ee=(0,H.Z)(Me);return o.createElement(W.Z,{visible:!t,motionName:"".concat(f,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(P){return{maxHeight:P.offsetHeight}},onLeaveEnd:C},function(J){var P=J.className,fe=J.style;return o.createElement("div",(0,i.Z)({ref:Be,"data-show":!t,className:h()(Ae,P),style:(0,i.Z)((0,i.Z)({},le),fe),onMouseEnter:I,onMouseLeave:Z,onClick:x,role:"alert"},ee),De?ye():null,o.createElement("div",{className:"".concat(f,"-content")},V?o.createElement("div",{className:"".concat(f,"-message")},V):null,p?o.createElement("div",{className:"".concat(f,"-description")},p):null),ue?o.createElement("div",{className:"".concat(f,"-action")},ue):null,ve())})};ne.ErrorBoundary=pe;var ie=ne},17462:function(ae,T,e){"use strict";var i=e(38663),E=e.n(i),F=e(3178),o=e.n(F)},15746:function(ae,T,e){"use strict";var i=e(21584);T.Z=i.Z},89032:function(ae,T,e){"use strict";var i=e(38663),E=e.n(i),F=e(6999)},99134:function(ae,T,e){"use strict";var i=e(67294),E=(0,i.createContext)({});T.Z=E},21584:function(ae,T,e){"use strict";var i=e(96156),E=e(22122),F=e(90484),o=e(94184),g=e.n(o),S=e(67294),R=e(53124),G=e(99134),L=function(a,W){var c={};for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&W.indexOf(h)<0&&(c[h]=a[h]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,h=Object.getOwnPropertySymbols(a);m<h.length;m++)W.indexOf(h[m])<0&&Object.prototype.propertyIsEnumerable.call(a,h[m])&&(c[h[m]]=a[h[m]]);return c};function me(a){return typeof a=="number"?"".concat(a," ").concat(a," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(a)?"0 0 ".concat(a):a}var Ee=["xs","sm","md","lg","xl","xxl"],oe=S.forwardRef(function(a,W){var c,h=S.useContext(R.E_),m=h.getPrefixCls,H=h.direction,A=S.useContext(G.Z),M=A.gutter,N=A.wrap,Q=A.supportFlexGap,pe=a.prefixCls,w=a.span,K=a.order,Ze=a.offset,b=a.push,ne=a.pull,ie=a.className,U=a.children,l=a.flex,O=a.style,p=L(a,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),d=m("col",pe),V={};Ee.forEach(function(I){var Z,x={},C=a[I];typeof C=="number"?x.span=C:(0,F.Z)(C)==="object"&&(x=C||{}),delete p[I],V=(0,E.Z)((0,E.Z)({},V),(Z={},(0,i.Z)(Z,"".concat(d,"-").concat(I,"-").concat(x.span),x.span!==void 0),(0,i.Z)(Z,"".concat(d,"-").concat(I,"-order-").concat(x.order),x.order||x.order===0),(0,i.Z)(Z,"".concat(d,"-").concat(I,"-offset-").concat(x.offset),x.offset||x.offset===0),(0,i.Z)(Z,"".concat(d,"-").concat(I,"-push-").concat(x.push),x.push||x.push===0),(0,i.Z)(Z,"".concat(d,"-").concat(I,"-pull-").concat(x.pull),x.pull||x.pull===0),(0,i.Z)(Z,"".concat(d,"-rtl"),H==="rtl"),Z))});var k=g()(d,(c={},(0,i.Z)(c,"".concat(d,"-").concat(w),w!==void 0),(0,i.Z)(c,"".concat(d,"-order-").concat(K),K),(0,i.Z)(c,"".concat(d,"-offset-").concat(Ze),Ze),(0,i.Z)(c,"".concat(d,"-push-").concat(b),b),(0,i.Z)(c,"".concat(d,"-pull-").concat(ne),ne),c),ie,V),_={};if(M&&M[0]>0){var re=M[0]/2;_.paddingLeft=re,_.paddingRight=re}if(M&&M[1]>0&&!Q){var le=M[1]/2;_.paddingTop=le,_.paddingBottom=le}return l&&(_.flex=me(l),N===!1&&!_.minWidth&&(_.minWidth=0)),S.createElement("div",(0,E.Z)({},p,{style:(0,E.Z)((0,E.Z)({},_),O),className:k,ref:W}),U)});oe.displayName="Col",T.Z=oe},92820:function(ae,T,e){"use strict";var i=e(22122),E=e(96156),F=e(90484),o=e(28481),g=e(94184),S=e.n(g),R=e(67294),G=e(53124),L=e(98082),me=e(24308),Ee=e(93355),oe=e(99134),a=function(m,H){var A={};for(var M in m)Object.prototype.hasOwnProperty.call(m,M)&&H.indexOf(M)<0&&(A[M]=m[M]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,M=Object.getOwnPropertySymbols(m);N<M.length;N++)H.indexOf(M[N])<0&&Object.prototype.propertyIsEnumerable.call(m,M[N])&&(A[M[N]]=m[M[N]]);return A},W=(0,Ee.b)("top","middle","bottom","stretch"),c=(0,Ee.b)("start","end","center","space-around","space-between","space-evenly"),h=R.forwardRef(function(m,H){var A,M=m.prefixCls,N=m.justify,Q=m.align,pe=m.className,w=m.style,K=m.children,Ze=m.gutter,b=Ze===void 0?0:Ze,ne=m.wrap,ie=a(m,["prefixCls","justify","align","className","style","children","gutter","wrap"]),U=R.useContext(G.E_),l=U.getPrefixCls,O=U.direction,p=R.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),d=(0,o.Z)(p,2),V=d[0],k=d[1],_=(0,L.Z)(),re=R.useRef(b);R.useEffect(function(){var y=me.ZP.subscribe(function(ce){var t=re.current||0;(!Array.isArray(t)&&(0,F.Z)(t)==="object"||Array.isArray(t)&&((0,F.Z)(t[0])==="object"||(0,F.Z)(t[1])==="object"))&&k(ce)});return function(){return me.ZP.unsubscribe(y)}},[]);var le=function(){var ce=[void 0,void 0],t=Array.isArray(b)?b:[b,void 0];return t.forEach(function(xe,Be){if((0,F.Z)(xe)==="object")for(var Pe=0;Pe<me.c4.length;Pe++){var B=me.c4[Pe];if(V[B]&&xe[B]!==void 0){ce[Be]=xe[B];break}}else ce[Be]=xe}),ce},I=l("row",M),Z=le(),x=S()(I,(A={},(0,E.Z)(A,"".concat(I,"-no-wrap"),ne===!1),(0,E.Z)(A,"".concat(I,"-").concat(N),N),(0,E.Z)(A,"".concat(I,"-").concat(Q),Q),(0,E.Z)(A,"".concat(I,"-rtl"),O==="rtl"),A),pe),C={},u=Z[0]!=null&&Z[0]>0?Z[0]/-2:void 0,Le=Z[1]!=null&&Z[1]>0?Z[1]/-2:void 0;if(u&&(C.marginLeft=u,C.marginRight=u),_){var Oe=(0,o.Z)(Z,2);C.rowGap=Oe[1]}else Le&&(C.marginTop=Le,C.marginBottom=Le);var $=(0,o.Z)(Z,2),Ie=$[0],ue=$[1],Me=R.useMemo(function(){return{gutter:[Ie,ue],wrap:ne,supportFlexGap:_}},[Ie,ue,ne,_]);return R.createElement(oe.Z.Provider,{value:Me},R.createElement("div",(0,i.Z)({},ie,{className:x,style:(0,i.Z)((0,i.Z)({},C),w),ref:H}),K))});h.displayName="Row",T.Z=h},6999:function(ae,T,e){"use strict";var i=e(38663),E=e.n(i),F=e(80638),o=e.n(F)},71230:function(ae,T,e){"use strict";var i=e(92820);T.Z=i.Z},13062:function(ae,T,e){"use strict";var i=e(38663),E=e.n(i),F=e(6999)},97435:function(ae,T){"use strict";function e(i,E){for(var F=Object.assign({},i),o=0;o<E.length;o+=1){var g=E[o];delete F[g]}return F}T.Z=e}}]);
