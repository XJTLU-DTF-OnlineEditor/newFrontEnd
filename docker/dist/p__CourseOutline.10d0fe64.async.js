(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[774],{61193:function(X,w,n){"use strict";n.r(w),n.d(w,{default:function(){return ce}});var l=n(13254),I=n(14277),a=n(34669),c=n(54458),F=n(98858),y=n(4914),Y=n(64896),L=n(20294),N=n(13062),R=n(71230),V=n(49111),W=n(19650),z=n(12968),Z=n(84737),d=n(57663),s=n(71577),e=n(71153),r=n(60331),t=n(34792),o=n(48086),u=n(3182),_=n(69610),g=n(54941),O=n(81306),D=n(72936),A=n(402),T=n(72031),de=n(24793),K=n(97183),q=n(94043),j=n.n(q),ee=n(67294),re=n(11021),J=n(57895),te=n(94627),ne=n(49657),se=n(30381),ae=n.n(se),G=n(21010),oe=n(29811),i=n(85893),pe=K.Z.Header,me=K.Z.Footer,he=K.Z.Sider,_e=K.Z.Content,ue=T.Z.Paragraph,fe={width:"30%",margin:"12px",textAlign:"center"},ie=T.Z.Title,ce=function(le){(0,O.Z)(x,le);var k=(0,D.Z)(x);function x(){var v;(0,_.Z)(this,x);for(var b=arguments.length,S=new Array(b),M=0;M<b;M++)S[M]=arguments[M];return v=k.call.apply(k,[this].concat(S)),v.state={related_topic:"",course_list:[],views:"",topic_content:"",topic_description:"",topic_img:"",progress:""},v.listData=[],v.getCatalog=(0,u.Z)(j().mark(function C(){var h,m,p,P,E,f,B,U,H;return j().wrap(function($){for(;;)switch($.prev=$.next){case 0:return h=v.props.match.params.related_topic,$.next=3,(0,re.G$)(h);case 3:m=$.sent,m.error_code==200?(p=m.course_list,P=m.topic_content,E=m.topic_img,f=m.topic_description,p=p.map(function(Q){return Q.fields.id=Q.pk,Q.fields}),v.setState({course_list:p,related_topic:h,topic_content:P,topic_img:E,topic_description:f})):m.error_code==204?(B=m.topic_content,U=m.topic_img,H=m.topic_description,v.setState({related_topic:h,topic_content:B,topic_img:U,topic_description:H,course_list:null})):o.default.error(m.msg);case 5:case"end":return $.stop()}},C)})),v.getProgressInfo=(0,u.Z)(j().mark(function C(){var h,m,p;return j().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return h=v.props.match.params.related_topic,E.next=3,(0,oe.ar)();case 3:m=E.sent,console.log(m,777777777777777),m.error_code==200&&(p=m.data.history,p==null||p.map(function(f){f.topic==h&&v.setState({progress:f})}));case 6:case"end":return E.stop()}},C)})),v}return(0,g.Z)(x,[{key:"componentDidMount",value:function(){this.getCatalog(),this.getProgressInfo()}},{key:"render",value:function(){var b=this,S=this.props.match.params.related_topic;this.listData=[{href:this.props.location.pathname,title:this.props.match.params.related_topic,avatar:"https://joeschmoe.io/api/v1/random",description:this.state.topic_content}];var M=this.state,C=M.course_list,h=M.progress,m=M.topic_description;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L.Z,{title:(0,i.jsxs)(ie,{level:2,children:[" ",S]}),className:"site-page-header",tags:(0,i.jsx)(r.Z,{color:"blue",children:"python"}),subTitle:m,onBack:function(){return b.props.history.go(-1)},extra:[(0,i.jsxs)(s.Z,{onClick:(0,u.Z)(j().mark(function p(){var P;return j().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,ne.G7)({topic:S,collect_time:ae()().format("YYYY-MM-DD HH:mm:ss")});case 2:P=f.sent,console.log(P),P.error_code===204?o.default.error("User collection already exists!"):P.error_code===200&&o.default.success("user collection add success");case 5:case"end":return f.stop()}},p)})),type:"primary",children:[" ",(0,i.jsx)(G._H,{id:"pages.courseOutline.collection"})]},"add")],children:(0,i.jsx)(R.Z,{children:(0,i.jsxs)(W.Z,{size:100,children:[(0,i.jsx)("div",{style:{flex:2,paddingLeft:"100px"},children:(0,i.jsx)(ue,{children:this.state.topic_content})}),"\xA0",(0,i.jsx)("div",{className:"image",style:{flex:2,paddingRight:"100px"},children:(0,i.jsx)(Z.Z,{src:"/media/"+this.state.topic_img,width:200})})]})})}),(0,i.jsx)(K.Z,{children:(0,i.jsx)(_e,{children:(0,i.jsx)(J.ZP,{ghost:!0,wrap:!0,gutter:{xs:8,sm:16,md:24},style:{margin:"12px 0"},children:C?C==null?void 0:C.map(function(p,P){var E,f,B;return(0,i.jsxs)(J.ZP,{hoverable:!0,bordered:!0,colSpan:{xs:24,sm:8,md:8,lg:8,xl:8},style:{minHeight:"200px"},title:(0,i.jsxs)(W.Z,{children:[(0,i.jsx)(te.Z,{style:{fontSize:"inherit"}}),(0,i.jsxs)(T.Z.Text,{mark:!0,children:["[",p.subtopic_id,"]"]}),p.title]}),onClick:function(){window.location.href=b.props.location.pathname+"/"+p.id},children:["\xA0",(0,i.jsxs)(y.Z,{size:"middle",column:1,children:[(0,i.jsx)(y.Z.Item,{label:(0,i.jsx)(G._H,{id:"pages.common.updateDate"}),children:(0,i.jsx)("a",{children:new Date(p.update_date).toLocaleString()})}),(0,i.jsx)(y.Z.Item,{label:(0,i.jsx)(G._H,{id:"pages.common.views"}),children:(0,i.jsx)("a",{children:p.views})})]}),"\xA0",h!=null&&(E=h.finished_courses)!==null&&E!==void 0&&E.includes(p.title)?(0,i.jsx)(c.Z,{type:"circle",width:80,style:{float:"right"},percent:100,format:function(){return"Done"}}):(h==null||(f=h.progress_course)===null||f===void 0?void 0:f.title)==p.title?(0,i.jsx)(c.Z,{type:"circle",width:80,percent:50,format:function(H){return"In progress"}}):h!=null&&(B=h.unfinished_courses)!==null&&B!==void 0&&B.includes(p.title)?(0,i.jsx)(c.Z,{type:"circle",width:80,percent:0,format:function(H){return"To do"},status:"active"}):""]})}):(0,i.jsx)(I.Z,{image:I.Z.PRESENTED_IMAGE_SIMPLE,description:(0,i.jsx)(G._H,{id:"pages.common.des.empty"})})})})})]})}}]),x}(ee.Component)},11021:function(X,w,n){"use strict";n.d(w,{D0:function(){return F},wA:function(){return y},tu:function(){return Y},rq:function(){return L},xH:function(){return N},G$:function(){return R},Sp:function(){return V},A:function(){return W},BK:function(){return z},BW:function(){return Z},EI:function(){return d}});var l=n(3182),I=n(94043),a=n.n(I),c=n(21010),F=function(){var s=(0,l.Z)(a().mark(function e(r){var t;return a().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return console.log(9999),console.log(r,9999),t="/server/V1/course/topicsByTeacher/?teacher_id=".concat(r),u.abrupt("return",(0,c.WY)(t));case 4:case"end":return u.stop()}},e)}));return function(r){return s.apply(this,arguments)}}(),y=function(){var s=(0,l.Z)(a().mark(function e(r,t){var o;return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o="/server/V1/course/edit/",_.abrupt("return",(0,c.WY)(o,{method:"post",data:{request_entity:"Topic",content:{topic_id:r,topic_info:t}}}));case 2:case"end":return _.stop()}},e)}));return function(r,t){return s.apply(this,arguments)}}(),Y=function(){var s=(0,l.Z)(a().mark(function e(r,t,o,u,_,g,O){var D;return a().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return D="/server/V1/course/edit/",T.abrupt("return",(0,c.WY)(D,{method:"post",data:{request_entity:"Course",content:{id:r,related_topic:t,title:o,content:u,answer:_,hint:g,code:O}}}));case 2:case"end":return T.stop()}},e)}));return function(r,t,o,u,_,g,O){return s.apply(this,arguments)}}(),L=function(){var s=(0,l.Z)(a().mark(function e(r,t,o,u,_){var g;return a().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return g="/server/V1/course/create/",D.abrupt("return",(0,c.WY)(g,{method:"post",data:{request_entity:"Topic",content:{topic_title:r,topic_content:t,topic_description:o,topic_img:u,teacher_id:_}}}));case 2:case"end":return D.stop()}},e)}));return function(r,t,o,u,_){return s.apply(this,arguments)}}(),N=function(){var s=(0,l.Z)(a().mark(function e(r,t,o,u,_,g){var O;return a().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return O="/server/V1/course/create/",A.abrupt("return",(0,c.WY)(O,{method:"post",data:{request_entity:"Course",content:{related_topic:r,title:t,content:o,answer:u,hint:_,code:g}}}));case 2:case"end":return A.stop()}},e)}));return function(r,t,o,u,_,g){return s.apply(this,arguments)}}(),R=function(){var s=(0,l.Z)(a().mark(function e(r){var t;return a().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t="/server/V1/course/courses/".concat(r,"/"),u.abrupt("return",(0,c.WY)(t));case 2:case"end":return u.stop()}},e)}));return function(r){return s.apply(this,arguments)}}(),V=function(){var s=(0,l.Z)(a().mark(function e(r,t){var o;return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o="/server/V1/course/courseDetail/".concat(r,"/").concat(t,"/"),_.abrupt("return",(0,c.WY)(o));case 2:case"end":return _.stop()}},e)}));return function(r,t){return s.apply(this,arguments)}}(),W=function(){var s=(0,l.Z)(a().mark(function e(r,t){var o;return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o="/server/V1/course/delete/",_.abrupt("return",(0,c.WY)(o,{method:"post",data:{request_entity:"Course",related_topic:r,content:t}}));case 2:case"end":return _.stop()}},e)}));return function(r,t){return s.apply(this,arguments)}}(),z=function(){var s=(0,l.Z)(a().mark(function e(r){var t;return a().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t="/server/V1/course/delete/",u.abrupt("return",(0,c.WY)(t,{method:"post",data:{request_entity:"Topic",content:r}}));case 2:case"end":return u.stop()}},e)}));return function(r){return s.apply(this,arguments)}}(),Z=function(){var s=(0,l.Z)(a().mark(function e(r,t){var o;return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o="/server/V1/course/sort/",_.abrupt("return",(0,c.WY)(o,{method:"post",data:{request_entity:"Course",related_topic:r,content:t}}));case 2:case"end":return _.stop()}},e)}));return function(r,t){return s.apply(this,arguments)}}(),d=function(){var s=(0,l.Z)(a().mark(function e(r,t){var o;return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o="/server/V1/course/delete_img/",_.abrupt("return",(0,c.WY)(o,{method:"post",data:{request_entity:t,fname:r}}));case 2:case"end":return _.stop()}},e)}));return function(r,t){return s.apply(this,arguments)}}()},49657:function(X,w,n){"use strict";n.d(w,{BN:function(){return F},XQ:function(){return y},yC:function(){return Y},UE:function(){return L},QB:function(){return R},PB:function(){return V},ei:function(){return W},G7:function(){return z},P4:function(){return Z}});var l=n(3182),I=n(94043),a=n.n(I),c=n(21010),F=function(){var d=(0,l.Z)(a().mark(function s(){return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.WY)("/server/V1/course/topic/6",{method:"GET"}));case 1:case"end":return r.stop()}},s)}));return function(){return d.apply(this,arguments)}}(),y=function(){var d=(0,l.Z)(a().mark(function s(){return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.WY)("/server/V1/course/topic/all",{method:"GET"}));case 1:case"end":return r.stop()}},s)}));return function(){return d.apply(this,arguments)}}(),Y=function(){var d=(0,l.Z)(a().mark(function s(e){var r;return a().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return r="/server/V1/course/search/".concat(e),o.abrupt("return",(0,c.WY)(r));case 2:case"end":return o.stop()}},s)}));return function(e){return d.apply(this,arguments)}}(),L=function(){var d=(0,l.Z)(a().mark(function s(){return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.WY)("/server/V1/course/newtopic/",{method:"GET"}));case 1:case"end":return r.stop()}},s)}));return function(){return d.apply(this,arguments)}}(),N=null,R=function(){var d=(0,l.Z)(a().mark(function s(e){return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.abrupt("return",(0,c.WY)("/server/V1/course/add_user_progress/",{method:"POST",data:e,headers:{Token:localStorage.getItem("token"),currentAuthority:localStorage.getItem("currentAuthority")}}));case 2:case"end":return t.stop()}},s)}));return function(e){return d.apply(this,arguments)}}(),V=function(){var d=(0,l.Z)(a().mark(function s(e){return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.abrupt("return",(0,c.WY)("/server/V1/course/change_user_progress/",{method:"POST",data:e,headers:{Token:localStorage.getItem("token"),currentAuthority:localStorage.getItem("currentAuthority")}}));case 2:case"end":return t.stop()}},s)}));return function(e){return d.apply(this,arguments)}}(),W=function(){var d=(0,l.Z)(a().mark(function s(e){return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.abrupt("return",(0,c.WY)("/server/V1/course/remove_user_progress/",{method:"POST",data:e,headers:{Token:localStorage.getItem("token"),currentAuthority:localStorage.getItem("currentAuthority")}}));case 2:case"end":return t.stop()}},s)}));return function(e){return d.apply(this,arguments)}}(),z=function(){var d=(0,l.Z)(a().mark(function s(e){return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.abrupt("return",(0,c.WY)("/server/V1/course/add_user_collection/",{method:"POST",data:e,headers:{Token:localStorage.getItem("token"),currentAuthority:localStorage.getItem("currentAuthority")}}));case 2:case"end":return t.stop()}},s)}));return function(e){return d.apply(this,arguments)}}(),Z=function(){var d=(0,l.Z)(a().mark(function s(e){return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.abrupt("return",(0,c.WY)("/server/V1/course/delete_user_collection/",{method:"POST",data:e,headers:{Token:localStorage.getItem("token"),currentAuthority:localStorage.getItem("currentAuthority")}}));case 2:case"end":return t.stop()}},s)}));return function(e){return d.apply(this,arguments)}}()}}]);
