(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[412],{90672:function(ie,L,e){"use strict";var h=e(22122),y=e(81253),_=e(67294),v=e(22118),d=["fieldProps","proFieldProps"],j=function(U,x){var b=U.fieldProps,B=U.proFieldProps,A=(0,y.Z)(U,d);return _.createElement(v.Z,(0,h.Z)({ref:x,mode:"edit",valueType:"textarea",fieldProps:b,proFieldProps:B},A))};L.Z=_.forwardRef(j)},15196:function(ie,L,e){"use strict";e.d(L,{ZP:function(){return R}});var h=e(56640),y=e(9715),_=e(86835),v=e(22122),d=e(67294),j=e(88374),F=e(96156),U=e(49111),x=e(19650),b=e(84305),B=e(39559),A=e(28481),W=e(28991),z=e(8812),$=e(56725),c=e(53621),o=e(94184),t=e.n(o),a=e(66758),l=e(2514),i=e(96138),n=d.forwardRef(function(C,V){var G=d.useContext(a.Z),Z=G.groupProps,f=(0,W.Z)((0,W.Z)({},Z),C),X=f.children,_e=f.collapsible,de=f.defaultCollapsed,De=f.style,ue=f.labelLayout,ce=f.title,H=ce===void 0?C.label:ce,me=f.tooltip,k=f.align,pe=k===void 0?"start":k,q=f.direction,Ee=f.size,ee=Ee===void 0?32:Ee,Me=f.titleStyle,re=f.titleRender,I=f.spaceProps,N=f.extra,te=f.autoFocus,ve=(0,$.Z)(function(){return de||!1},{value:C.collapsed,onChange:C.onCollapse}),fe=(0,A.Z)(ve,2),Y=fe[0],Ce=fe[1],he=(0,d.useContext)(B.ZP.ConfigContext),Oe=he.getPrefixCls,ne=(0,l.zx)(C),ge=ne.ColWrapper,oe=ne.RowWrapper,S=Oe("pro-form-group"),p=_e&&d.createElement(z.Z,{style:{marginRight:8},rotate:Y?void 0:90}),ae=d.createElement(c.Z,{label:p?d.createElement("div",null,p,H):H,tooltip:me}),se=(0,d.useCallback)(function(r){var O=r.children;return d.createElement(x.Z,(0,v.Z)({},I,{className:t()("".concat(S,"-container"),I==null?void 0:I.className),size:ee,align:pe,direction:q,style:(0,W.Z)({rowGap:0},I==null?void 0:I.style)}),O)},[pe,S,q,ee,I]),le=re?re(ae,C):ae,Pe=(0,d.useMemo)(function(){var r=[],O=d.Children.toArray(X).map(function(u,s){var D;return d.isValidElement(u)&&(u==null||(D=u.props)===null||D===void 0?void 0:D.hidden)?(r.push(u),null):s===0&&d.isValidElement(u)&&te?d.cloneElement(u,(0,W.Z)((0,W.Z)({},u.props),{},{autoFocus:te})):u});return[d.createElement(oe,{key:"children",Wrapper:se},O),r.length>0?d.createElement("div",{style:{display:"none"}},r):null]},[X,oe,se,te]),K=(0,A.Z)(Pe,2),w=K[0],m=K[1];return d.createElement(ge,null,d.createElement("div",{className:t()(S,(0,F.Z)({},"".concat(S,"-twoLine"),ue==="twoLine")),style:De,ref:V},m,(H||me||N)&&d.createElement("div",{className:"".concat(S,"-title"),style:Me,onClick:function(){Ce(!Y)}},N?d.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},le,d.createElement("span",{onClick:function(O){return O.stopPropagation()}},N)):le),_e&&Y?null:w))});n.displayName="ProForm-Group";var T=n,E=e(27738);function P(C){return d.createElement(j.I,(0,v.Z)({layout:"vertical",submitter:{render:function(G,Z){return Z.reverse()}},contentRender:function(G,Z){return d.createElement(d.Fragment,null,G,Z)}},C))}P.Group=T,P.useForm=_.Z.useForm,P.Item=E.Z;var R=P},96138:function(){},56640:function(){},32185:function(ie,L,e){"use strict";e.r(L),e.d(L,{default:function(){return se}});var h=e(34792),y=e(48086),_=e(3182),v=e(69610),d=e(54941),j=e(81306),F=e(72936),U=e(402),x=e(72031),b=e(94043),B=e.n(b),A=e(67294),W=e(15196),z=e(5966),$=e(90672),c=e(5234),o=e.n(c),t=e(72757),a=e.n(t),l=e(11021),i=e(57895),n=e(65278),T=e(85224),E=e(21010),P=e(29656),R=e(4631),C=e.n(R),V=e(71707),G=e.n(V),Z=e(48991),f=e.n(Z),X=e(20017),_e=e.n(X),de=e(88657),De=e.n(de),ue=e(89700),ce=e.n(ue),H=e(35688),me=e.n(H),k=e(9898),pe=e.n(k),q=e(82801),Ee=e.n(q),ee=e(93411),Me=e.n(ee),re=e(99762),I=e.n(re),N=e(36629),te=e.n(N),ve=e(5321),fe=e.n(ve),Y=e(7999),Ce=e.n(Y),he=e(960),Oe=e.n(he),ne=e(88386),ge=e.n(ne),oe=e(69109),S=e.n(oe),p=e(85893),ae=x.Z.Title,se=function(le){(0,j.Z)(K,le);var Pe=(0,F.Z)(K);function K(w){var m;return(0,v.Z)(this,K),m=Pe.call(this,w),m.state={id:m.props.location.query.id,courseDetail:{},isDisabled:m.props.location.query.id},m.getExercise=(0,_.Z)(B().mark(function r(){var O,u,s;return B().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return O=m.state.id,u=m.props.location.query.topic_title,M.next=4,(0,l.Sp)(u,O);case 4:s=M.sent,s.error_code==200?m.setState({courseDetail:s.data}):y.default.error(s.msg);case 6:case"end":return M.stop()}},r)})),m.save=function(){var r=(0,_.Z)(B().mark(function O(u){var s,D,M,Q,J,Te;return B().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=m.state.courseDetail,s.title){g.next=5;break}y.default.warning("please input the course title"),g.next=20;break;case 5:if(s.content){g.next=9;break}y.default.warning("please input the course content"),g.next=20;break;case 9:if(D=m.props.location.query,M=D.topic_title,Q=D.id,!Q){g.next=16;break}return g.next=13,(0,l.tu)(Q,M,u.title,s.content,u.answer,u.hint,s.code);case 13:J=g.sent,g.next=19;break;case 16:return g.next=18,(0,l.xH)(M,s.title,s.content,s.answer,s.hint,s.code);case 18:J=g.sent;case 19:J.error_code==200?(y.default.success("Save success"),Te=J.data.id,m.props.history.push("/courseAdmin/courseDisplay?topic_title=".concat(M,"&id=").concat(Te))):y.default.error("Save error! "+J.msg);case 20:case"end":return g.stop()}},O)}));return function(O){return r.apply(this,arguments)}}(),m}return(0,d.Z)(K,[{key:"componentDidMount",value:function(){this.props.location.query.id&&this.getExercise()}},{key:"render",value:function(){var m=this,r=this.state.courseDetail,O=this.props.location.query.topic_title;return(0,p.jsx)(n.ZP,{ghost:!0,onBack:function(){return m.props.history.go(-1)},header:{title:(0,p.jsx)(ae,{level:2,children:r.id?(0,p.jsx)(E._H,{id:"pages.courseManager.editCourse"}):(0,p.jsx)(E._H,{id:"pages.courseManager.addCourse"})})},children:(0,p.jsx)(i.ZP,{children:(0,p.jsxs)(W.ZP,{submitter:{render:function(s,D){return(0,p.jsx)(T.Z,{children:D})},searchConfig:{submitText:(0,p.jsx)(E._H,{id:"pages.common.submit"})},resetButtonProps:{style:{display:"none"}}},onFinish:this.save,children:[(0,p.jsx)(z.Z,{width:"md",name:"title",label:(0,p.jsx)(E._H,{id:"pages.common.courseTitle"}),placeholder:(0,E.Kd)()=="zh-CN"?"\u8BF7\u8F93\u5165\u8BE5\u8BFE\u7A0B\u7684\u6807\u9898":"please input a course title",value:r==null?void 0:r.title,onChange:function(s){r.title=s.target.value,m.setState({courseDetail:r})}}),(0,p.jsx)(W.ZP.Item,{name:"content",label:(0,p.jsx)(E._H,{id:"pages.courseManager.courseContent"}),value:r==null?void 0:r.content,children:(0,p.jsx)(t.CKEditor,{editor:o(),data:r.content,config:{toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"],shouldNotGroupWhenFull:!1},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"}]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},ckfinder:{uploadUrl:"/server/V1/course/upload_course_img/".concat(O,"/")}},onChange:function(s,D){var M=m.state.courseDetail,Q=D.getData();M.content=Q,m.setState({courseDetail:M})},onError:function(s){var D=s.willEditorRestart;D&&m.editor.ui.view.toolbar.element.remove()}})}),(0,p.jsx)(W.ZP.Item,{name:"code",label:(0,p.jsx)(E._H,{id:"pages.courseManager.code"}),value:r==null?void 0:r.code,children:(0,p.jsx)(P.fk,{className:"editor",options:{mode:"python",autofocus:!0,styleActiveLine:!0,lineNumbers:!0,smartIndent:!0,lineWrapping:!0,foldGutter:!0,placeholder:(0,E.Kd)()=="zh-CN"?"\u4EE3\u7801\u8F93\u5165\u533A...":"code goes here",gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],matchBrackets:!0,autoCloseBrackets:!0,scrollbarStyle:"simple",cursorScrollMargin:5,extraKeys:{Ctrl:"autocomplete","Ctrl-S":function(s){s.codeSave(s)},"Ctrl-Z":function(s){s.undo()},F8:function(s){s.redo()}}},value:r==null?void 0:r.code,onBeforeChange:function(s,D,M){r.code=M,m.setState({courseDetail:r})}})}),(0,p.jsx)($.Z,{name:"answer",label:(0,p.jsx)(E._H,{id:"pages.common.answer"}),value:r==null?void 0:r.answer,placeholder:(0,E.Kd)()=="zh-CN"?"\u8BF7\u8F93\u5165\u8BE5\u4EE3\u7801\u7EC3\u4E60\u7684\u7B54\u6848":"Please input the answer for the code",onChange:function(s){r.answer=s.target.value,m.setState({courseDetail:r})}}),(0,p.jsx)($.Z,{name:"hint",label:(0,p.jsx)(E._H,{id:"pages.common.hint"}),value:r==null?void 0:r.hint,placeholder:(0,E.Kd)()=="zh-CN"?"\u8BF7\u8F93\u5165\u8BE5\u4EE3\u7801\u7EC3\u4E60\u7684\u63D0\u793A\u4FE1\u606F":"Please input the hint for the code exercise",onChange:function(s){r.hint=s.target.value,m.setState({courseDetail:r})}})]})})})}}]),K}(A.Component)},11021:function(ie,L,e){"use strict";e.d(L,{D0:function(){return d},wA:function(){return j},tu:function(){return F},rq:function(){return U},xH:function(){return x},G$:function(){return b},Sp:function(){return B},A:function(){return A},BK:function(){return W},BW:function(){return z},EI:function(){return $}});var h=e(3182),y=e(94043),_=e.n(y),v=e(21010),d=function(){var c=(0,h.Z)(_().mark(function o(t){var a;return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return console.log(9999),console.log(t,9999),a="/server/V1/course/topicsByTeacher/?teacher_id=".concat(t),i.abrupt("return",(0,v.WY)(a));case 4:case"end":return i.stop()}},o)}));return function(t){return c.apply(this,arguments)}}(),j=function(){var c=(0,h.Z)(_().mark(function o(t,a){var l;return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l="/server/V1/course/edit/",n.abrupt("return",(0,v.WY)(l,{method:"post",data:{request_entity:"Topic",content:{topic_id:t,topic_info:a}}}));case 2:case"end":return n.stop()}},o)}));return function(t,a){return c.apply(this,arguments)}}(),F=function(){var c=(0,h.Z)(_().mark(function o(t,a,l,i,n,T,E){var P;return _().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return P="/server/V1/course/edit/",C.abrupt("return",(0,v.WY)(P,{method:"post",data:{request_entity:"Course",content:{id:t,related_topic:a,title:l,content:i,answer:n,hint:T,code:E}}}));case 2:case"end":return C.stop()}},o)}));return function(t,a,l,i,n,T,E){return c.apply(this,arguments)}}(),U=function(){var c=(0,h.Z)(_().mark(function o(t,a,l,i,n){var T;return _().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return T="/server/V1/course/create/",P.abrupt("return",(0,v.WY)(T,{method:"post",data:{request_entity:"Topic",content:{topic_title:t,topic_content:a,topic_description:l,topic_img:i,teacher_id:n}}}));case 2:case"end":return P.stop()}},o)}));return function(t,a,l,i,n){return c.apply(this,arguments)}}(),x=function(){var c=(0,h.Z)(_().mark(function o(t,a,l,i,n,T){var E;return _().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return E="/server/V1/course/create/",R.abrupt("return",(0,v.WY)(E,{method:"post",data:{request_entity:"Course",content:{related_topic:t,title:a,content:l,answer:i,hint:n,code:T}}}));case 2:case"end":return R.stop()}},o)}));return function(t,a,l,i,n,T){return c.apply(this,arguments)}}(),b=function(){var c=(0,h.Z)(_().mark(function o(t){var a;return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a="/server/V1/course/courses/".concat(t,"/"),i.abrupt("return",(0,v.WY)(a));case 2:case"end":return i.stop()}},o)}));return function(t){return c.apply(this,arguments)}}(),B=function(){var c=(0,h.Z)(_().mark(function o(t,a){var l;return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l="/server/V1/course/courseDetail/".concat(t,"/").concat(a,"/"),n.abrupt("return",(0,v.WY)(l));case 2:case"end":return n.stop()}},o)}));return function(t,a){return c.apply(this,arguments)}}(),A=function(){var c=(0,h.Z)(_().mark(function o(t,a){var l;return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l="/server/V1/course/delete/",n.abrupt("return",(0,v.WY)(l,{method:"post",data:{request_entity:"Course",related_topic:t,content:a}}));case 2:case"end":return n.stop()}},o)}));return function(t,a){return c.apply(this,arguments)}}(),W=function(){var c=(0,h.Z)(_().mark(function o(t){var a;return _().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a="/server/V1/course/delete/",i.abrupt("return",(0,v.WY)(a,{method:"post",data:{request_entity:"Topic",content:t}}));case 2:case"end":return i.stop()}},o)}));return function(t){return c.apply(this,arguments)}}(),z=function(){var c=(0,h.Z)(_().mark(function o(t,a){var l;return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l="/server/V1/course/sort/",n.abrupt("return",(0,v.WY)(l,{method:"post",data:{request_entity:"Course",related_topic:t,content:a}}));case 2:case"end":return n.stop()}},o)}));return function(t,a){return c.apply(this,arguments)}}(),$=function(){var c=(0,h.Z)(_().mark(function o(t,a){var l;return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l="/server/V1/course/delete_img/",n.abrupt("return",(0,v.WY)(l,{method:"post",data:{request_entity:a,fname:t}}));case 2:case"end":return n.stop()}},o)}));return function(t,a){return c.apply(this,arguments)}}()}}]);
