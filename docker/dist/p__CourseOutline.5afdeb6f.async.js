(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[774],{61193:function(Q,C,n){"use strict";n.r(C),n.d(C,{default:function(){return ce}});var l=n(13254),w=n(14277),a=n(34669),c=n(54458),$=n(98858),y=n(4914),F=n(64896),U=n(20294),H=n(13062),L=n(71230),Y=n(49111),I=n(19650),V=n(12968),R=n(84737),d=n(57663),s=n(71577),e=n(71153),t=n(60331),r=n(34792),o=n(48086),i=n(3182),_=n(69610),D=n(54941),W=n(81306),v=n(72936),k=n(402),O=n(72031),de=n(24793),Z=n(97183),q=n(94043),A=n.n(q),ee=n(67294),re=n(11021),X=n(57895),te=n(94627),ne=n(49657),se=n(30381),ae=n.n(se),z=n(21010),oe=n(29811),u=n(85893),pe=Z.Z.Header,me=Z.Z.Footer,he=Z.Z.Sider,_e=Z.Z.Content,ie=O.Z.Paragraph,fe={width:"30%",margin:"12px",textAlign:"center"},ue=O.Z.Title,ce=function(le){(0,W.Z)(K,le);var J=(0,v.Z)(K);function K(){var E;(0,_.Z)(this,K);for(var x=arguments.length,b=new Array(x),T=0;T<x;T++)b[T]=arguments[T];return E=J.call.apply(J,[this].concat(b)),E.state={related_topic:"",course_list:[],views:"",topic_content:"",topic_description:"",topic_img:"",progress:""},E.listData=[],E.getCatalog=(0,i.Z)(A().mark(function M(){var h,m,p,P,g,f,j,B,G;return A().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return h=E.props.match.params.related_topic,S.next=3,(0,re.G$)(h);case 3:m=S.sent,m.error_code==200?(p=m.course_list,P=m.topic_content,g=m.topic_img,f=m.topic_description,p=p.map(function(N){return N.fields.id=N.pk,N.fields}),E.setState({course_list:p,related_topic:h,topic_content:P,topic_img:g,topic_description:f})):m.error_code==204?(j=m.topic_content,B=m.topic_img,G=m.topic_description,E.setState({related_topic:h,topic_content:j,topic_img:B,topic_description:G,course_list:null})):o.default.error(m.msg);case 5:case"end":return S.stop()}},M)})),E.getProgressInfo=(0,i.Z)(A().mark(function M(){var h,m,p;return A().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return h=E.props.match.params.related_topic,g.next=3,(0,oe.ar)();case 3:m=g.sent,console.log(m,777777777777777),m.error_code==200&&(p=m.data.history,p==null||p.map(function(f){f.topic==h&&E.setState({progress:f})}));case 6:case"end":return g.stop()}},M)})),E}return(0,D.Z)(K,[{key:"componentDidMount",value:function(){this.getCatalog(),this.getProgressInfo()}},{key:"render",value:function(){var x=this,b=this.props.match.params.related_topic;this.listData=[{href:this.props.location.pathname,title:this.props.match.params.related_topic,avatar:"https://joeschmoe.io/api/v1/random",description:this.state.topic_content}];var T=this.state,M=T.course_list,h=T.progress,m=T.topic_description;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(U.Z,{title:(0,u.jsxs)(ue,{level:2,children:[" ",b]}),className:"site-page-header",tags:(0,u.jsx)(t.Z,{color:"blue",children:"python"}),subTitle:m,onBack:function(){return x.props.history.go(-1)},extra:[(0,u.jsxs)(s.Z,{onClick:(0,i.Z)(A().mark(function p(){var P;return A().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,ne.G7)({topic:b,collect_time:ae()().format("YYYY-MM-DD HH:mm:ss")});case 2:P=f.sent,console.log(P),P.error_code===204?o.default.error("User collection already exists!"):P.error_code===200&&o.default.success("user collection add success");case 5:case"end":return f.stop()}},p)})),type:"primary",children:[" ",(0,u.jsx)(z._H,{id:"pages.courseOutline.collection"})]},"add")],children:(0,u.jsx)(L.Z,{children:(0,u.jsxs)(I.Z,{size:100,children:[(0,u.jsx)("div",{style:{flex:2,paddingLeft:"100px"},children:(0,u.jsx)(ie,{children:this.state.topic_content})}),"\xA0",(0,u.jsx)("div",{className:"image",style:{flex:2,paddingRight:"100px"},children:(0,u.jsx)(R.Z,{src:"/media/"+this.state.topic_img,width:200})})]})})}),(0,u.jsx)(Z.Z,{children:(0,u.jsx)(_e,{children:(0,u.jsx)(X.ZP,{ghost:!0,wrap:!0,gutter:{xs:8,sm:16,md:24},style:{margin:"12px 0"},children:M?M==null?void 0:M.map(function(p,P){var g,f,j;return(0,u.jsxs)(X.ZP,{hoverable:!0,bordered:!0,colSpan:{xs:24,sm:8,md:8,lg:8,xl:8},style:{minHeight:"200px"},title:(0,u.jsxs)(I.Z,{children:[(0,u.jsx)(te.Z,{style:{fontSize:"inherit"}}),(0,u.jsxs)(O.Z.Text,{mark:!0,children:["[",p.subtopic_id,"]"]}),p.title]}),onClick:function(){window.location.href=x.props.location.pathname+"/"+p.id},children:["\xA0",(0,u.jsxs)(y.Z,{size:"middle",column:1,children:[(0,u.jsx)(y.Z.Item,{label:(0,u.jsx)(z._H,{id:"pages.common.updateDate"}),children:(0,u.jsx)("a",{children:new Date(p.update_date).toLocaleString()})}),(0,u.jsx)(y.Z.Item,{label:(0,u.jsx)(z._H,{id:"pages.common.views"}),children:(0,u.jsx)("a",{children:p.views})})]}),"\xA0",h!=null&&(g=h.finished_courses)!==null&&g!==void 0&&g.includes(p.title)?(0,u.jsx)(c.Z,{type:"circle",width:80,style:{float:"right"},percent:100,format:function(){return"Done"}}):(h==null||(f=h.progress_course)===null||f===void 0?void 0:f.title)==p.title?(0,u.jsx)(c.Z,{type:"circle",width:80,percent:50,format:function(G){return"In progress"}}):h!=null&&(j=h.unfinished_courses)!==null&&j!==void 0&&j.includes(p.title)?(0,u.jsx)(c.Z,{type:"circle",width:80,percent:0,format:function(G){return"To do"},status:"active"}):""]})}):(0,u.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE,description:(0,u.jsx)(z._H,{id:"pages.common.des.empty"})})})})})]})}}]),K}(ee.Component)},11021:function(Q,C,n){"use strict";n.d(C,{D0:function(){return $},wA:function(){return y},tu:function(){return F},rq:function(){return U},xH:function(){return H},G$:function(){return L},Sp:function(){return Y},A:function(){return I},BK:function(){return V},BW:function(){return R},EI:function(){return d}});var l=n(3182),w=n(94043),a=n.n(w),c=n(21010),$=function(){var s=(0,l.Z)(a().mark(function e(t){var r;return a().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r="/server/V1/course/topicsByTeacher/?teacher_id=".concat(t),i.abrupt("return",(0,c.WY)(r));case 2:case"end":return i.stop()}},e)}));return function(t){return s.apply(this,arguments)}}(),y=function(){var s=(0,l.Z)(a().mark(function e(t,r){var o;return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o="/server/V1/course/edit/",_.abrupt("return",(0,c.WY)(o,{method:"post",data:{request_entity:"Topic",content:{topic_id:t,topic_info:r}}}));case 2:case"end":return _.stop()}},e)}));return function(t,r){return s.apply(this,arguments)}}(),F=function(){var s=(0,l.Z)(a().mark(function e(t,r,o,i,_,D,W){var v;return a().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return v="/server/V1/course/edit/",O.abrupt("return",(0,c.WY)(v,{method:"post",data:{request_entity:"Course",content:{id:t,related_topic:r,title:o,content:i,answer:_,hint:D,teacher_id:W}}}));case 2:case"end":return O.stop()}},e)}));return function(t,r,o,i,_,D,W){return s.apply(this,arguments)}}(),U=function(){var s=(0,l.Z)(a().mark(function e(t,r,o,i,_){var D;return a().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return D="/server/V1/course/create/",v.abrupt("return",(0,c.WY)(D,{method:"post",data:{request_entity:"Topic",content:{topic_title:t,topic_content:r,topic_description:o,topic_img:i,teacher_id:_}}}));case 2:case"end":return v.stop()}},e)}));return function(t,r,o,i,_){return s.apply(this,arguments)}}(),H=function(){var s=(0,l.Z)(a().mark(function e(t,r,o,i,_){var D;return a().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return D="/server/V1/course/create/",v.abrupt("return",(0,c.WY)(D,{method:"post",data:{request_entity:"Course",content:{related_topic:t,title:r,content:o,answer:i,hint:_}}}));case 2:case"end":return v.stop()}},e)}));return function(t,r,o,i,_){return s.apply(this,arguments)}}(),L=function(){var s=(0,l.Z)(a().mark(function e(t){var r;return a().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r="/server/V1/course/courses/".concat(t,"/"),i.abrupt("return",(0,c.WY)(r));case 2:case"end":return i.stop()}},e)}));return function(t){return s.apply(this,arguments)}}(),Y=function(){var s=(0,l.Z)(a().mark(function e(t,r){var o;return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o="/server/V1/course/courseDetail/".concat(t,"/").concat(r,"/"),_.abrupt("return",(0,c.WY)(o));case 2:case"end":return _.stop()}},e)}));return function(t,r){return s.apply(this,arguments)}}(),I=function(){var s=(0,l.Z)(a().mark(function e(t,r){var o;return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o="/server/V1/course/delete/",_.abrupt("return",(0,c.WY)(o,{method:"post",data:{request_entity:"Course",related_topic:t,content:r}}));case 2:case"end":return _.stop()}},e)}));return function(t,r){return s.apply(this,arguments)}}(),V=function(){var s=(0,l.Z)(a().mark(function e(t){var r;return a().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r="/server/V1/course/delete/",i.abrupt("return",(0,c.WY)(r,{method:"post",data:{request_entity:"Topic",content:t}}));case 2:case"end":return i.stop()}},e)}));return function(t){return s.apply(this,arguments)}}(),R=function(){var s=(0,l.Z)(a().mark(function e(t,r){var o;return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o="/server/V1/course/sort/",_.abrupt("return",(0,c.WY)(o,{method:"post",data:{request_entity:"Course",related_topic:t,content:r}}));case 2:case"end":return _.stop()}},e)}));return function(t,r){return s.apply(this,arguments)}}(),d=function(){var s=(0,l.Z)(a().mark(function e(t,r){var o;return a().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o="/server/V1/course/delete_img/",_.abrupt("return",(0,c.WY)(o,{method:"post",data:{request_entity:r,fname:t}}));case 2:case"end":return _.stop()}},e)}));return function(t,r){return s.apply(this,arguments)}}()},49657:function(Q,C,n){"use strict";n.d(C,{BN:function(){return $},XQ:function(){return y},yC:function(){return F},UE:function(){return U},QB:function(){return L},PB:function(){return Y},ei:function(){return I},G7:function(){return V},P4:function(){return R}});var l=n(3182),w=n(94043),a=n.n(w),c=n(21010),$=function(){var d=(0,l.Z)(a().mark(function s(){return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.WY)("/server/V1/course/topic/6",{method:"GET"}));case 1:case"end":return t.stop()}},s)}));return function(){return d.apply(this,arguments)}}(),y=function(){var d=(0,l.Z)(a().mark(function s(){return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.WY)("/server/V1/course/topic/all",{method:"GET"}));case 1:case"end":return t.stop()}},s)}));return function(){return d.apply(this,arguments)}}(),F=function(){var d=(0,l.Z)(a().mark(function s(e){var t;return a().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t="/server/V1/course/search/".concat(e),o.abrupt("return",(0,c.WY)(t));case 2:case"end":return o.stop()}},s)}));return function(e){return d.apply(this,arguments)}}(),U=function(){var d=(0,l.Z)(a().mark(function s(){return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.WY)("/server/V1/course/newtopic/",{method:"GET"}));case 1:case"end":return t.stop()}},s)}));return function(){return d.apply(this,arguments)}}(),H=null,L=function(){var d=(0,l.Z)(a().mark(function s(e){return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),r.abrupt("return",(0,c.WY)("/server/V1/course/add_user_progress/",{method:"POST",data:e,headers:{Token:localStorage.getItem("token"),currentAuthority:localStorage.getItem("currentAuthority")}}));case 2:case"end":return r.stop()}},s)}));return function(e){return d.apply(this,arguments)}}(),Y=function(){var d=(0,l.Z)(a().mark(function s(e){return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),r.abrupt("return",(0,c.WY)("/server/V1/course/change_user_progress/",{method:"POST",data:e,headers:{Token:localStorage.getItem("token"),currentAuthority:localStorage.getItem("currentAuthority")}}));case 2:case"end":return r.stop()}},s)}));return function(e){return d.apply(this,arguments)}}(),I=function(){var d=(0,l.Z)(a().mark(function s(e){return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),r.abrupt("return",(0,c.WY)("/server/V1/course/remove_user_progress/",{method:"POST",data:e,headers:{Token:localStorage.getItem("token"),currentAuthority:localStorage.getItem("currentAuthority")}}));case 2:case"end":return r.stop()}},s)}));return function(e){return d.apply(this,arguments)}}(),V=function(){var d=(0,l.Z)(a().mark(function s(e){return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),r.abrupt("return",(0,c.WY)("/server/V1/course/add_user_collection/",{method:"POST",data:e,headers:{Token:localStorage.getItem("token"),currentAuthority:localStorage.getItem("currentAuthority")}}));case 2:case"end":return r.stop()}},s)}));return function(e){return d.apply(this,arguments)}}(),R=function(){var d=(0,l.Z)(a().mark(function s(e){return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),r.abrupt("return",(0,c.WY)("/server/V1/course/delete_user_collection/",{method:"POST",data:e,headers:{Token:localStorage.getItem("token"),currentAuthority:localStorage.getItem("currentAuthority")}}));case 2:case"end":return r.stop()}},s)}));return function(e){return d.apply(this,arguments)}}()}}]);
